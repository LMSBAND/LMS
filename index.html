<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="dark">
<meta name="theme-color" content="#0a0a0c">
<title>The Architecture of Freedom — LMS vs The Industry</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;700;800&family=Space+Grotesk:wght@300;400;500;700&family=Outfit:wght@200;300;400;700;900&family=IBM+Plex+Mono:wght@400;600;700&family=Instrument+Serif&display=swap');

  html {
    background: #0a0a0c !important;
    color-scheme: dark;
  }

  :root {
    --bg: #0a0a0c;
    --bg2: #0e0e12;
    --bg3: #141418;
    --evil-red: #ff2244;
    --evil-glow: #ff224433;
    --evil-dark: #1a0508;
    --good-green: #4de88a;
    --good-glow: #4de88a33;
    --good-dark: #051a0c;
    --orange: #f07a2e;
    --orange-glow: #f07a2e33;
    --blue: #4a8aff;
    --dim: #444450;
    --dimmer: #2a2a32;
    --text: #d8d8dd;
    --text-dim: #888890;
    --money: #44dd66;
    --amber: #f59e0b;
    --amber-dim: #f59e0b33;
    --da-surface: #08080f;
    --da-border: #1a1a25;
    --da-text-dim: #666;
    --da-text-dead: #333;
    --da-green: #22c55e;
    --da-red: #ef4444;
    --da-blue: #3b82f6;
    --da-purple: #a78bfa;
    --da-mono: 'IBM Plex Mono', monospace;
    --da-serif: 'Instrument Serif', serif;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: #0a0a0c !important;
    color: #d8d8dd;
    font-family: 'Outfit', sans-serif;
    overflow-x: hidden;
  }

  /* ============================================ */
  /* HERO */
  /* ============================================ */
  .hero {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    position: relative;
    padding: 2rem;
  }

  .hero::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background: 
      radial-gradient(ellipse at 30% 40%, var(--evil-glow) 0%, transparent 50%),
      radial-gradient(ellipse at 70% 60%, var(--good-glow) 0%, transparent 50%);
    pointer-events: none;
  }

  .hero h1 {
    font-family: 'JetBrains Mono', monospace;
    font-weight: 800;
    font-size: clamp(2rem, 5vw, 4.5rem);
    letter-spacing: -0.03em;
    line-height: 1.1;
    margin-bottom: 1.5rem;
  }

  .hero h1 .their { color: var(--evil-red); }
  .hero h1 .vs { color: var(--dim); font-weight: 300; font-size: 0.5em; display: block; margin: 0.5rem 0; }
  .hero h1 .ours { color: var(--good-green); }

  .hero .subtitle {
    font-size: clamp(0.9rem, 2vw, 1.3rem);
    color: var(--text-dim);
    font-weight: 300;
    max-width: 600px;
    line-height: 1.6;
  }

  .scroll-hint {
    position: absolute;
    bottom: 2rem;
    color: var(--dim);
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.75rem;
    animation: pulse 2s ease-in-out infinite;
  }

  @keyframes pulse {
    0%, 100% { opacity: 0.3; transform: translateY(0); }
    50% { opacity: 1; transform: translateY(5px); }
  }

  /* ============================================ */
  /* COMPARISON SECTIONS */
  /* ============================================ */
  .comparison {
    display: grid;
    grid-template-columns: 1fr 1fr;
    min-height: 100vh;
    position: relative;
  }

  @media (max-width: 900px) {
    .comparison { grid-template-columns: 1fr; }
  }

  .side {
    padding: clamp(2rem, 4vw, 4rem);
    position: relative;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  .side.evil {
    background: linear-gradient(135deg, var(--evil-dark) 0%, var(--bg) 100%);
    border-right: 1px solid #1f0810;
  }

  .side.good {
    background: linear-gradient(135deg, var(--bg) 0%, var(--good-dark) 100%);
  }

  .side-label {
    font-family: 'JetBrains Mono', monospace;
    font-weight: 800;
    font-size: 0.7rem;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    margin-bottom: 2rem;
    display: flex;
    align-items: center;
    gap: 0.75rem;
  }

  .side.evil .side-label { color: var(--evil-red); }
  .side.good .side-label { color: var(--good-green); }

  .side-label .dot {
    width: 8px; height: 8px;
    border-radius: 50%;
    display: inline-block;
  }

  .side.evil .dot { background: var(--evil-red); box-shadow: 0 0 10px var(--evil-red); }
  .side.good .dot { background: var(--good-green); box-shadow: 0 0 10px var(--good-green); }

  .section-title {
    font-family: 'Outfit', sans-serif;
    font-weight: 900;
    font-size: clamp(1.5rem, 3vw, 2.5rem);
    margin-bottom: 0.5rem;
    line-height: 1.1;
  }

  .section-subtitle {
    color: var(--text-dim);
    font-weight: 300;
    font-size: 0.95rem;
    margin-bottom: 2rem;
    line-height: 1.5;
  }

  /* ============================================ */
  /* FLOW DIAGRAMS */
  /* ============================================ */
  .flow {
    display: flex;
    flex-direction: column;
    gap: 0;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.75rem;
  }

  .flow-node {
    padding: 0.75rem 1rem;
    border-radius: 6px;
    position: relative;
    border: 1px solid;
    transition: all 0.3s ease;
  }

  .flow-node:hover {
    transform: translateX(4px);
  }

  .flow-node .node-name {
    font-weight: 700;
    font-size: 0.85rem;
    margin-bottom: 0.25rem;
  }

  .flow-node .node-detail {
    font-weight: 300;
    font-size: 0.65rem;
    opacity: 0.7;
  }

  .side.evil .flow-node {
    border-color: #2a1015;
    background: linear-gradient(135deg, #150810 0%, #0d0608 100%);
    color: #cc8888;
  }

  .side.evil .flow-node .node-name { color: var(--evil-red); }

  .side.good .flow-node {
    border-color: #0a2a15;
    background: linear-gradient(135deg, #081508 0%, #060d08 100%);
    color: #88cc99;
  }

  .side.good .flow-node .node-name { color: var(--good-green); }

  .flow-arrow {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 28px;
    position: relative;
  }

  .flow-arrow::before {
    content: '';
    position: absolute;
    width: 2px;
    height: 100%;
    left: 50%;
    transform: translateX(-50%);
  }

  .side.evil .flow-arrow::before { background: #2a1015; }
  .side.good .flow-arrow::before { background: #0a2a15; }

  .flow-arrow span {
    font-size: 0.6rem;
    padding: 0 0.5rem;
    position: relative;
    z-index: 1;
  }

  .side.evil .flow-arrow span { color: #661122; background: var(--bg); }
  .side.good .flow-arrow span { color: #116633; background: var(--bg); }

  /* Money/toll nodes */
  .flow-node.toll {
    border-color: #4a3000;
    background: linear-gradient(135deg, #1a1200 0%, #0d0a00 100%);
  }

  .flow-node.toll .node-name { color: #ffaa00; }
  .flow-node.toll .node-detail { color: #aa8833; }

  .flow-node.toll::after {
    content: '$';
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 1.2rem;
    color: #ffaa0044;
    font-weight: 800;
  }

  /* gmem highlight */
  .flow-node.gmem {
    border-color: var(--orange);
    border-style: dashed;
    background: linear-gradient(135deg, #1a0f05 0%, #0d0a06 100%);
  }

  .flow-node.gmem .node-name { color: var(--orange); }
  .flow-node.gmem .node-detail { color: #cc8844; }

  /* ============================================ */
  /* DIVIDER */
  /* ============================================ */
  .divider {
    position: absolute;
    left: 50%;
    top: 0;
    bottom: 0;
    width: 1px;
    background: linear-gradient(to bottom, transparent, var(--dim), transparent);
    z-index: 10;
  }

  .divider-label {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    background: var(--bg);
    padding: 0.5rem 1rem;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.65rem;
    color: var(--dim);
    letter-spacing: 0.15em;
    z-index: 11;
    white-space: nowrap;
  }

  @media (max-width: 900px) {
    .divider, .divider-label { display: none; }
  }

  /* ============================================ */
  /* STATS SECTION */
  /* ============================================ */
  .stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1px;
    background: #1a1a1f;
    margin: 0;
  }

  .stat {
    padding: 2.5rem 2rem;
    text-align: center;
    background: #0a0a0c;
  }

  .stat .number {
    font-family: 'JetBrains Mono', monospace;
    font-weight: 800;
    font-size: clamp(2rem, 4vw, 3.5rem);
    line-height: 1;
    margin-bottom: 0.5rem;
  }

  .stat .number.evil { color: #ff2244; text-shadow: 0 0 20px #ff224444; }
  .stat .number.good { color: #4de88a; text-shadow: 0 0 20px #4de88a44; }
  .stat .number.orange { color: #f07a2e; text-shadow: 0 0 20px #f07a2e44; }

  .stat .label {
    font-size: 0.8rem;
    color: var(--text-dim);
    font-weight: 300;
  }

  /* ============================================ */
  /* BUS COMPARISON */
  /* ============================================ */
  .bus-section {
    padding: clamp(3rem, 5vw, 6rem) clamp(2rem, 4vw, 4rem);
    max-width: 1200px;
    margin: 0 auto;
  }

  .bus-section h2 {
    font-family: 'JetBrains Mono', monospace;
    font-weight: 800;
    font-size: clamp(1.5rem, 3vw, 2.5rem);
    text-align: center;
    margin-bottom: 1rem;
  }

  .bus-section .bus-subtitle {
    text-align: center;
    color: var(--text-dim);
    font-weight: 300;
    margin-bottom: 3rem;
    max-width: 700px;
    margin-left: auto;
    margin-right: auto;
    line-height: 1.6;
  }

  /* Traditional bus diagram */
  .bus-diagram {
    background: var(--bg2);
    border: 1px solid var(--dimmer);
    border-radius: 8px;
    padding: 2rem;
    margin-bottom: 3rem;
    position: relative;
    overflow: hidden;
  }

  .bus-diagram h3 {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.8rem;
    letter-spacing: 0.15em;
    margin-bottom: 1.5rem;
  }

  .bus-diagram.evil h3 { color: var(--evil-red); }
  .bus-diagram.good h3 { color: var(--good-green); }

  .bus-tracks {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
    justify-content: center;
  }

  .bus-track {
    width: 80px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.25rem;
  }

  .bus-track-box {
    width: 70px;
    height: 50px;
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.55rem;
    font-weight: 700;
    text-align: center;
    line-height: 1.2;
  }

  .bus-track-label {
    font-size: 0.6rem;
    color: var(--text-dim);
    font-family: 'JetBrains Mono', monospace;
  }

  .bus-diagram.evil .bus-track-box {
    border: 1px solid #2a1015;
    background: #150810;
    color: #cc8888;
  }

  .bus-diagram.evil .bus-track-box.send {
    border-color: #4a3000;
    background: #1a1200;
    color: #ddaa44;
  }

  .bus-diagram.evil .bus-track-box.master {
    border-color: #661122;
    background: #2a0810;
    color: var(--evil-red);
  }

  .bus-diagram.good .bus-track-box {
    border: 1px solid #0a2a15;
    background: #081508;
    color: #88cc99;
  }

  .bus-diagram.good .bus-track-box.gmem-node {
    border: 1px dashed var(--orange);
    background: #1a0f05;
    color: var(--orange);
  }

  .bus-diagram.good .bus-track-box.master {
    border-color: #116633;
    background: #082a10;
    color: var(--good-green);
  }

  .bus-connections {
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid var(--dimmer);
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.6rem;
    color: var(--text-dim);
    text-align: center;
    line-height: 2;
  }

  .bus-connections .route {
    display: inline-block;
    padding: 0.2rem 0.6rem;
    margin: 0.15rem;
    border-radius: 3px;
    font-size: 0.55rem;
  }

  .bus-diagram.evil .route {
    background: #1a0810;
    border: 1px solid #2a1015;
    color: #aa6666;
  }

  .bus-diagram.good .route {
    background: #0a1508;
    border: 1px solid #0a2a15;
    color: #66aa77;
  }

  .bus-diagram.good .route.gmem-route {
    border-color: var(--orange);
    border-style: dashed;
    color: var(--orange);
  }

  /* ============================================ */
  /* FINAL BANNER */
  /* ============================================ */
  .finale {
    padding: clamp(4rem, 8vw, 8rem) 2rem;
    text-align: center;
    position: relative;
    overflow: hidden;
  }

  .finale::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background: radial-gradient(ellipse at center, var(--good-glow) 0%, transparent 60%);
    pointer-events: none;
  }

  .finale h2 {
    font-family: 'JetBrains Mono', monospace;
    font-weight: 800;
    font-size: clamp(2rem, 5vw, 4rem);
    color: var(--good-green);
    margin-bottom: 1.5rem;
  }

  .finale .manifesto {
    max-width: 650px;
    margin: 0 auto 2rem;
    font-size: 1.1rem;
    font-weight: 300;
    line-height: 1.8;
    color: var(--text-dim);
  }

  .finale .url {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.85rem;
    color: var(--orange);
    padding: 1rem 2rem;
    border: 1px dashed var(--orange);
    border-radius: 6px;
    display: inline-block;
    background: #1a0f0522;
    letter-spacing: 0.02em;
    word-break: break-all;
  }

  .finale .install-label {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.65rem;
    color: var(--dim);
    letter-spacing: 0.2em;
    text-transform: uppercase;
    margin-bottom: 0.5rem;
  }

  /* ============================================ */
  /* ANIMATIONS */
  /* ============================================ */
  .fade-in {
    opacity: 0;
    transform: translateY(20px);
    animation: fadeIn 0.8s ease forwards;
  }

  @keyframes fadeIn {
    to { opacity: 1; transform: translateY(0); }
  }

  .comparison:nth-child(2) .fade-in { animation-delay: 0.1s; }
  .comparison:nth-child(3) .fade-in { animation-delay: 0.15s; }
  .comparison:nth-child(4) .fade-in { animation-delay: 0.2s; }

  /* ============================================ */
  /* SECTION TRANSITION LABELS */
  /* ============================================ */
  .da-section-label {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.65rem;
    font-weight: 800;
    letter-spacing: 0.25em;
    text-transform: uppercase;
    text-align: center;
    padding: 3rem 1rem 1.5rem;
    color: var(--amber);
  }

  /* ============================================ */
  /* DENSITY-AMP SCOPED STYLES */
  /* ============================================ */
  .da-demo-wrap {
    max-width: 680px;
    margin: 0 auto;
    padding: 0 16px 2rem;
  }

  .da-mode-toggle {
    display: flex;
    justify-content: center;
    gap: 8px;
    margin-bottom: 24px;
  }

  .da-mode-btn {
    padding: 8px 20px;
    border-radius: 6px;
    border: 2px solid var(--da-text-dead);
    background: transparent;
    color: var(--da-text-dim);
    font-family: var(--da-mono);
    font-size: 12px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
  }

  .da-mode-btn.da-active-lms {
    border-color: var(--amber);
    background: var(--amber-dim);
    color: var(--amber);
  }

  .da-mode-btn.da-active-trad {
    border-color: #555;
    background: #55555520;
    color: #888;
  }

  .da-demo-layout {
    display: flex;
    gap: 16px;
    align-items: flex-start;
    justify-content: center;
    flex-wrap: wrap;
  }

  .da-strum-area {
    width: 60px;
    height: 300px;
    border-radius: 10px;
    background: linear-gradient(180deg, #0a0a14, #12101a 50%, #1a1018);
    border: 1px solid var(--da-border);
    position: relative;
    cursor: pointer;
    touch-action: none;
    user-select: none;
    -webkit-user-select: none;
    flex-shrink: 0;
  }

  .da-strum-area.da-active { border-color: var(--amber-dim); }
  .da-strum-area.da-trad.da-active { border-color: #44444488; }

  .da-strum-label {
    font-family: var(--da-mono);
    font-size: 8px;
    color: var(--da-text-dim);
    text-align: center;
    letter-spacing: 1px;
    margin-bottom: 4px;
  }

  .da-strum-string {
    position: absolute;
    top: 0; bottom: 0;
    width: 1px;
    background: rgba(200,160,80,0.12);
    transition: background 0.2s;
  }

  .da-strum-string.da-trad { background: rgba(120,120,120,0.10); }

  .da-pick-indicator {
    position: absolute;
    left: 6px; right: 6px;
    height: 3px;
    border-radius: 2px;
    transition: none;
    pointer-events: none;
  }

  .da-strum-hint {
    position: absolute;
    left: 0; right: 0;
    text-align: center;
    font-family: var(--da-mono);
    font-size: 7px;
    color: #444;
    pointer-events: none;
  }

  .da-tubes-row {
    display: flex;
    gap: 14px;
    justify-content: center;
    margin-bottom: 6px;
  }

  .da-tube-wrap { text-align: center; }

  .da-tube {
    width: 44px;
    height: 60px;
    border-radius: 11px 11px 5px 5px;
    border: 1px solid #333;
    position: relative;
    overflow: hidden;
    transition: box-shadow 0.08s;
  }

  .da-tube.da-trad { border-color: #222; }

  .da-tube-filament {
    position: absolute;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    width: 12px;
    height: 16px;
    border-radius: 50%;
    pointer-events: none;
  }

  .da-tube-plate {
    position: absolute;
    top: 12px;
    left: 50%;
    transform: translateX(-50%);
    width: 16px;
    height: 24px;
    border-radius: 2px;
    pointer-events: none;
  }

  .da-tube-pins {
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 3px;
  }

  .da-tube-pin {
    width: 2px;
    height: 4px;
    background: #555;
    border-radius: 0 0 1px 1px;
  }

  .da-tube-label {
    font-family: var(--da-mono);
    font-size: 7px;
    margin-top: 3px;
    font-weight: 700;
    letter-spacing: 0.5px;
  }

  .da-matrix-wrap {
    border: 1px solid var(--da-border);
    border-radius: 8px;
    padding: 6px;
    background: var(--da-surface);
  }

  .da-matrix-wrap.da-lms-mode {
    box-shadow: 0 0 25px rgba(0,0,0,0.4);
  }

  .da-matrix-grid {
    display: grid;
    grid-template-columns: repeat(16, 1fr);
    gap: 1.5px;
  }

  .da-matrix-cell {
    width: 12px;
    height: 12px;
    border-radius: 1.5px;
    transition: background 0.05s;
  }

  .da-band-labels {
    display: flex;
    justify-content: space-between;
    margin-top: 4px;
    padding: 0 2px;
  }

  .da-band-label {
    font-family: var(--da-mono);
    font-size: 7px;
    font-weight: 600;
    letter-spacing: 0.5px;
  }

  .da-meters-row {
    display: flex;
    gap: 8px;
    margin-top: 10px;
    flex-wrap: wrap;
    justify-content: center;
  }

  .da-meter {
    flex: 1;
    min-width: 55px;
    max-width: 70px;
  }

  .da-meter-label {
    font-family: var(--da-mono);
    font-size: 7px;
    color: var(--da-text-dim);
    margin-bottom: 2px;
    letter-spacing: 0.5px;
  }

  .da-meter-bar {
    height: 5px;
    background: #111118;
    border-radius: 3px;
    overflow: hidden;
    border: 1px solid #222;
  }

  .da-meter-fill {
    height: 100%;
    border-radius: 3px;
    transition: width 0.08s;
  }

  .da-meter-value {
    font-family: var(--da-mono);
    font-size: 10px;
    font-weight: 700;
    margin-top: 1px;
  }

  .da-output-bar-wrap {
    width: 40px;
    flex-shrink: 0;
  }

  .da-output-bar {
    width: 40px;
    height: 300px;
    border-radius: 8px;
    background: #0a0a14;
    border: 1px solid var(--da-border);
    position: relative;
    overflow: hidden;
  }

  .da-output-fill {
    position: absolute;
    bottom: 0;
    left: 4px;
    right: 4px;
    border-radius: 4px 4px 0 0;
    transition: height 0.06s;
  }

  .da-output-value {
    position: absolute;
    bottom: 6px;
    left: 0; right: 0;
    text-align: center;
    font-family: var(--da-mono);
    font-size: 9px;
    font-weight: 700;
  }

  .da-output-label {
    font-family: var(--da-mono);
    font-size: 8px;
    color: var(--da-text-dim);
    text-align: center;
    margin-top: 4px;
    line-height: 1.3;
    max-width: 50px;
  }

  .da-miller-box {
    max-width: 420px;
    margin: 20px auto 0;
    padding: 14px 16px;
    border-radius: 8px;
    background: #0c0c14;
    border: 1px solid var(--amber-dim);
    transition: all 0.3s;
  }

  .da-miller-box.da-trad {
    background: #111;
    border-color: #222;
  }

  .da-miller-box h3 {
    font-family: var(--da-mono);
    font-size: 10px;
    font-weight: 700;
    letter-spacing: 0.5px;
    margin-bottom: 6px;
  }

  .da-miller-box p {
    font-size: 11px;
    line-height: 1.6;
    color: #999;
  }

  .da-miller-box .da-highlight { color: var(--amber); }
  .da-miller-box .da-highlight-red { color: var(--da-red); }
  .da-miller-box .da-highlight-blue { color: var(--da-purple); }
  .da-miller-box .da-highlight-green { color: var(--da-green); }

  .da-miller-callout {
    margin-top: 8px;
    padding: 8px 12px;
    border-radius: 5px;
    background: rgba(245,158,11,0.06);
    border: 1px solid var(--amber-dim);
    font-family: var(--da-mono);
    font-size: 10px;
    color: var(--amber);
    font-weight: 600;
    text-align: center;
  }

  .da-miller-callout.da-dead {
    background: rgba(100,100,100,0.06);
    border-color: #333;
    color: #555;
  }

  /* === DA ARCHITECTURE COMPARISON === */
  .da-compare-section {
    max-width: 800px;
    margin: 0 auto;
    padding: 0 16px 3rem;
  }

  .da-compare-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
  }

  @media (max-width: 640px) {
    .da-compare-grid { grid-template-columns: 1fr; }
  }

  .da-compare-col {
    padding: 20px;
    border-radius: 10px;
  }

  .da-compare-col.da-trad-col {
    background: #111;
    border: 1px solid #222;
  }

  .da-compare-col.da-lms-col {
    background: #0c0c14;
    border: 1px solid var(--amber-dim);
  }

  .da-compare-col h3 {
    font-family: var(--da-mono);
    font-size: 11px;
    letter-spacing: 2px;
    margin-bottom: 16px;
    text-transform: uppercase;
  }

  .da-compare-col.da-trad-col h3 { color: #666; }
  .da-compare-col.da-lms-col h3 { color: var(--amber); }

  .da-stage-box {
    padding: 8px 10px;
    border-radius: 4px;
    margin-bottom: 6px;
    font-size: 11px;
  }

  .da-stage-box.da-trad {
    background: #1a1a1a;
    border: 1px solid #2a2a2a;
    color: #777;
  }

  .da-stage-box.da-lms {
    background: rgba(245,158,11,0.05);
    border: 1px solid rgba(245,158,11,0.15);
    color: #bbb;
  }

  .da-stage-box .da-stage-name {
    font-family: var(--da-mono);
    font-size: 10px;
    font-weight: 700;
    letter-spacing: 0.5px;
  }

  .da-stage-box.da-trad .da-stage-name { color: #888; }
  .da-stage-box.da-lms .da-stage-name { color: var(--amber); }

  .da-stage-box .da-stage-sub {
    font-size: 10px;
    margin-top: 2px;
    color: #555;
  }

  .da-stage-box.da-lms .da-stage-sub { color: #888; }

  .da-stage-arrow {
    text-align: center;
    padding: 2px 0;
    font-size: 14px;
  }

  .da-stage-arrow.da-trad { color: #333; }
  .da-stage-arrow.da-lms { color: var(--amber-dim); }

  .da-checklist {
    margin-top: 12px;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 4px;
  }

  .da-check-item {
    font-family: var(--da-mono);
    font-size: 9px;
    display: flex;
    align-items: center;
    gap: 4px;
  }

  .da-check-item.da-off {
    color: #444;
    text-decoration: line-through;
  }

  .da-check-item.da-off::before {
    content: '\2717';
    color: #663333;
    font-size: 11px;
    text-decoration: none;
  }

  .da-check-item.da-on {
    color: #aaa;
  }

  .da-check-item.da-on::before {
    content: '\2713';
    color: var(--da-green);
    font-size: 11px;
  }

  /* Quote boxes from density-amp */
  .da-quote-box {
    max-width: 500px;
    margin: 2.5rem auto;
    padding: 20px 24px;
    border-radius: 8px;
    background: #1e1510;
    border: 1px solid #332a1a;
    text-align: center;
  }

  .da-quote-box p {
    font-family: var(--da-serif);
    font-size: 16px;
    color: #aa9977;
    line-height: 1.6;
    font-style: italic;
  }

  .da-quote-box .da-attr {
    font-family: var(--da-mono);
    font-size: 10px;
    color: #665544;
    margin-top: 10px;
  }

  /* === DA DONUT PROBLEM === */
  .da-donut-wrap {
    max-width: 640px;
    margin: 0 auto;
    padding: 0 16px 3rem;
  }

  .da-donut-box {
    padding: 24px;
    border-radius: 10px;
    background: #0c0c14;
    border: 1px solid var(--amber-dim);
  }

  .da-donut-box .da-donut-quote {
    font-family: var(--da-serif);
    font-size: clamp(18px, 3vw, 24px);
    color: #f5f5f5;
    text-align: center;
    line-height: 1.5;
    margin-bottom: 16px;
  }

  .da-donut-box .da-donut-attr {
    font-family: var(--da-mono);
    font-size: 10px;
    color: #665544;
    text-align: center;
    margin-bottom: 20px;
  }

  .da-donut-box .da-donut-text {
    font-size: 13px;
    color: #999;
    line-height: 1.7;
  }

  .da-donut-box .da-donut-text + .da-donut-text {
    margin-top: 12px;
  }

  .da-donut-comparison {
    margin-top: 16px;
    padding: 12px 16px;
    border-radius: 6px;
    background: #1a1510;
    border: 1px solid #332a1a;
    display: flex;
    gap: 20px;
    justify-content: center;
    flex-wrap: wrap;
  }

  .da-donut-side {
    text-align: center;
    min-width: 140px;
  }

  .da-donut-side-label {
    font-family: var(--da-mono);
    font-size: 10px;
    letter-spacing: 1px;
    margin-bottom: 4px;
  }

  .da-donut-side-text {
    font-size: 12px;
    color: #888;
  }

  .da-donut-footer {
    font-family: var(--da-mono);
    font-size: 10px;
    color: #444;
    text-align: center;
    margin-top: 12px;
  }

  /* === DA WHERE THIS GOES === */
  .da-future-wrap {
    max-width: 640px;
    margin: 0 auto;
    padding: 0 16px 3rem;
  }

  .da-future-box {
    padding: 24px;
    border-radius: 10px;
    background: #0c0c14;
    border: 1px solid var(--da-border);
  }

  .da-future-box .da-future-text {
    font-size: 13px;
    color: #999;
    line-height: 1.8;
  }

  .da-future-box .da-future-text + .da-future-text {
    margin-top: 12px;
  }

  .da-future-stats {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
    margin-top: 20px;
  }

  .da-future-stat {
    padding: 10px;
    border-radius: 6px;
    background: #111;
    border: 1px solid #222;
    text-align: center;
  }

  .da-future-stat-number {
    font-family: var(--da-mono);
    font-size: 20px;
    font-weight: 700;
  }

  .da-future-stat-label {
    font-size: 10px;
    color: #666;
    margin-top: 2px;
  }

  /* === PLUGIN SUITE GRID === */
  .da-suite-wrap {
    max-width: 900px;
    margin: 0 auto;
    padding: 0 16px 3rem;
  }

  .da-suite-desc {
    font-size: 13px;
    color: #888;
    text-align: center;
    margin-bottom: 24px;
    line-height: 1.5;
  }

  .da-suite-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
    gap: 12px;
    margin-bottom: 20px;
  }

  .da-suite-card {
    padding: 16px;
    border-radius: 8px;
    background: var(--bg2);
    border: 1px solid var(--dimmer);
  }

  .da-suite-card-header {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.65rem;
    font-weight: 800;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    margin-bottom: 10px;
  }

  .da-suite-card-header.da-amber { color: var(--amber); }
  .da-suite-card-header.da-green { color: var(--da-green); }
  .da-suite-card-header.da-purple { color: var(--da-purple); }
  .da-suite-card-header.da-blue { color: var(--da-blue); }
  .da-suite-card-header.da-orange { color: var(--orange); }

  .da-suite-item {
    margin-bottom: 6px;
    font-size: 12px;
    color: #ccc;
    line-height: 1.5;
  }

  .da-suite-item strong {
    color: #eee;
    font-weight: 600;
  }

  .da-suite-item-desc {
    color: var(--text-dim);
    font-size: 11px;
  }

  .da-suite-footer {
    font-size: 10px;
    color: #555;
    margin-top: 8px;
    font-family: var(--da-mono);
  }

  /* ============================================ */
  /* TLDR INSTALL GUIDE */
  /* ============================================ */
  .tldr {
    max-width: 720px;
    margin: 0 auto;
    padding: 2rem 1.5rem 3rem;
  }

  .tldr-header {
    text-align: center;
    margin-bottom: 2rem;
  }

  .tldr-badge {
    display: inline-block;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.6rem;
    font-weight: 800;
    letter-spacing: 0.3em;
    color: var(--good-green);
    border: 1px solid var(--good-green);
    border-radius: 4px;
    padding: 0.3rem 1rem;
    margin-bottom: 1rem;
  }

  .tldr-title {
    font-family: 'JetBrains Mono', monospace;
    font-weight: 800;
    font-size: clamp(1.2rem, 3vw, 1.8rem);
    color: #f5f5f5;
    letter-spacing: -0.02em;
    line-height: 1.3;
  }

  .tldr-title span { color: var(--good-green); }

  .tldr-subtitle {
    font-size: 0.85rem;
    color: var(--text-dim);
    margin-top: 0.5rem;
  }

  .tldr-steps {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .tldr-step {
    background: var(--bg2);
    border: 1px solid var(--dimmer);
    border-radius: 8px;
    padding: 1.2rem 1.4rem;
    position: relative;
    transition: border-color 0.2s;
  }

  .tldr-step:hover {
    border-color: var(--dim);
  }

  .tldr-step-head {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 0.5rem;
  }

  .tldr-step-num {
    font-family: 'JetBrains Mono', monospace;
    font-weight: 800;
    font-size: 1.1rem;
    color: var(--good-green);
    background: var(--good-dark);
    border: 1px solid #224422;
    border-radius: 6px;
    width: 2rem;
    height: 2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
  }

  .tldr-step-title {
    font-family: 'JetBrains Mono', monospace;
    font-weight: 700;
    font-size: 0.85rem;
    color: #eee;
    letter-spacing: 0.02em;
  }

  .tldr-step-body {
    font-size: 0.82rem;
    color: var(--text-dim);
    line-height: 1.7;
    padding-left: 2.75rem;
  }

  .tldr-step-body a {
    color: var(--good-green);
    text-decoration: none;
    border-bottom: 1px dashed var(--good-green);
  }

  .tldr-step-body a:hover {
    color: #fff;
    border-color: #fff;
  }

  .tldr-step-body code {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.75rem;
    background: #1a1a22;
    border: 1px solid #2a2a34;
    border-radius: 3px;
    padding: 0.15rem 0.4rem;
    color: var(--orange);
    word-break: break-all;
  }

  .tldr-step-body .substep {
    display: flex;
    align-items: flex-start;
    gap: 0.5rem;
    margin-top: 0.4rem;
  }

  .tldr-step-body .substep-arrow {
    color: var(--dim);
    flex-shrink: 0;
    font-size: 0.75rem;
    margin-top: 0.15rem;
  }

  .tldr-url-box {
    margin-top: 0.75rem;
    padding: 0.6rem 0.8rem;
    background: #0a1a0a;
    border: 1px dashed var(--good-green);
    border-radius: 5px;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.7rem;
    color: var(--good-green);
    word-break: break-all;
    text-align: center;
    cursor: pointer;
    transition: background 0.2s;
    user-select: all;
  }

  .tldr-url-box:hover {
    background: #0f220f;
  }

  .tldr-warn {
    display: flex;
    align-items: flex-start;
    gap: 0.5rem;
    margin-top: 0.5rem;
    padding: 0.5rem 0.7rem;
    background: rgba(245,158,11,0.06);
    border: 1px solid rgba(245,158,11,0.15);
    border-radius: 4px;
    font-size: 0.75rem;
    color: var(--amber);
    line-height: 1.5;
  }

  .tldr-warn-icon {
    flex-shrink: 0;
    font-size: 0.9rem;
  }

  .tldr-time {
    text-align: center;
    margin-top: 1.5rem;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.7rem;
    color: var(--dim);
    letter-spacing: 0.1em;
  }

  .tldr-time span {
    color: var(--good-green);
    font-weight: 700;
  }
</style>
</head>
<body>

<!-- ============================================ -->
<!-- TLDR: INSTALL GUIDE -->
<!-- ============================================ -->
<div class="tldr">
  <div class="tldr-header">
    <div class="tldr-badge">TLDR</div>
    <div class="tldr-title">DOWNLOAD AND <span>INSTALL NOW</span></div>
    <div class="tldr-subtitle">Zero to fully running in under 5 minutes. No accounts. No licenses. No bullshit.</div>
  </div>

  <div class="tldr-steps">

    <!-- Step 1 -->
    <div class="tldr-step">
      <div class="tldr-step-head">
        <div class="tldr-step-num">1</div>
        <div class="tldr-step-title">DOWNLOAD REAPER</div>
      </div>
      <div class="tldr-step-body">
        Go to <a href="https://www.reaper.fm/download.php" target="_blank">reaper.fm/download.php</a> and grab the installer for your OS (Windows, macOS, or Linux). It's a small download (~15 MB). Reaper has an unlimited free evaluation period &mdash; no credit card, no signup.
      </div>
    </div>

    <!-- Step 2 -->
    <div class="tldr-step">
      <div class="tldr-step-head">
        <div class="tldr-step-num">2</div>
        <div class="tldr-step-title">INSTALL REAPER</div>
      </div>
      <div class="tldr-step-body">
        Run the installer. Click next. That's it. Open Reaper when it's done.
        <div class="tldr-warn">
          <div class="tldr-warn-icon">!</div>
          <div><strong>Linux users:</strong> download the .tar.xz, extract it, run <code>sudo ./install-reaper.sh</code> and follow the prompts. Or just extract it anywhere and run the binary directly.</div>
        </div>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="tldr-step">
      <div class="tldr-step-head">
        <div class="tldr-step-num">3</div>
        <div class="tldr-step-title">INSTALL REAPACK</div>
      </div>
      <div class="tldr-step-body">
        ReaPack is the package manager that lets you install LMS (and hundreds of other free plugins) with one click.
        <div class="substep">
          <div class="substep-arrow">a.</div>
          <div>Go to <a href="https://reapack.com" target="_blank">reapack.com</a> and download the file for your OS.</div>
        </div>
        <div class="substep">
          <div class="substep-arrow">b.</div>
          <div>In Reaper, go to <code>Options &rarr; Show REAPER resource path...</code> &mdash; this opens a folder.</div>
        </div>
        <div class="substep">
          <div class="substep-arrow">c.</div>
          <div>Inside that folder, find (or create) the <code>UserPlugins</code> subfolder.</div>
        </div>
        <div class="substep">
          <div class="substep-arrow">d.</div>
          <div>Drop the ReaPack file you downloaded into <code>UserPlugins</code>.</div>
        </div>
        <div class="substep">
          <div class="substep-arrow">e.</div>
          <div><strong>Restart Reaper.</strong> You should now see <code>Extensions &rarr; ReaPack</code> in the menu bar. If you don't, the file isn't in the right folder &mdash; double check.</div>
        </div>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="tldr-step">
      <div class="tldr-step-head">
        <div class="tldr-step-num">4</div>
        <div class="tldr-step-title">ADD THE LMS REPOSITORY</div>
      </div>
      <div class="tldr-step-body">
        <div class="substep">
          <div class="substep-arrow">a.</div>
          <div>In Reaper: <code>Extensions &rarr; ReaPack &rarr; Import repositories...</code></div>
        </div>
        <div class="substep">
          <div class="substep-arrow">b.</div>
          <div>Paste this URL into the box and click OK:</div>
        </div>
        <div class="tldr-url-box">https://raw.githubusercontent.com/LMSBAND/LMS/master/index.xml</div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="tldr-step">
      <div class="tldr-step-head">
        <div class="tldr-step-num">5</div>
        <div class="tldr-step-title">INSTALL ALL LMS PLUGINS</div>
      </div>
      <div class="tldr-step-body">
        <div class="substep">
          <div class="substep-arrow">a.</div>
          <div>Go to <code>Extensions &rarr; ReaPack &rarr; Browse packages...</code></div>
        </div>
        <div class="substep">
          <div class="substep-arrow">b.</div>
          <div>In the filter/search box at the top, type <code>LMS</code> to show only LMS packages.</div>
        </div>
        <div class="substep">
          <div class="substep-arrow">c.</div>
          <div>Press <code>Ctrl+A</code> (or <code>Cmd+A</code> on Mac) to <strong>select all</strong>.</div>
        </div>
        <div class="substep">
          <div class="substep-arrow">d.</div>
          <div>Right-click &rarr; <strong>Install/update selected packages</strong>.</div>
        </div>
        <div class="substep">
          <div class="substep-arrow">e.</div>
          <div>Click <strong>Apply</strong> in the bottom-right. Let it download everything. Done.</div>
        </div>
        <div class="tldr-warn">
          <div class="tldr-warn-icon">!</div>
          <div>To update later: just repeat this process. <code>Browse packages &rarr; select all LMS &rarr; install/update</code>. Or use <code>Extensions &rarr; ReaPack &rarr; Synchronize packages</code> to update everything at once.</div>
        </div>
      </div>
    </div>

    <!-- Step 6 -->
    <div class="tldr-step">
      <div class="tldr-step-head">
        <div class="tldr-step-num">6</div>
        <div class="tldr-step-title">SET UP THE LUA SCRIPTS</div>
      </div>
      <div class="tldr-step-body">
        LMS includes Lua scripts for saving/loading plugin states and Drumbanger integration. You need to register them as Reaper Actions so you can use them.
        <div class="substep">
          <div class="substep-arrow">a.</div>
          <div>In Reaper: <code>Actions &rarr; Show action list...</code></div>
        </div>
        <div class="substep">
          <div class="substep-arrow">b.</div>
          <div>Click <strong>New action... &rarr; Load ReaScript...</strong></div>
        </div>
        <div class="substep">
          <div class="substep-arrow">c.</div>
          <div>Navigate to your Reaper resource path &rarr; <code>Scripts</code> folder. The LMS scripts should already be there from the ReaPack install. Load each one:</div>
        </div>
        <div style="padding-left:1.5rem;margin-top:0.3rem">
          <div style="margin-bottom:0.2rem"><code>lms_save.lua</code> &mdash; saves all LMS plugin states in your project</div>
          <div style="margin-bottom:0.2rem"><code>lms_load.lua</code> &mdash; restores saved LMS plugin states</div>
          <div style="margin-bottom:0.2rem"><code>lms_steal.lua</code> &mdash; copy settings between plugin instances</div>
        </div>
        <div class="substep" style="margin-top:0.5rem">
          <div class="substep-arrow">d.</div>
          <div>You can now run these from <code>Actions &rarr; Show action list</code> by searching "lms". Optionally, assign keyboard shortcuts to them for fast access.</div>
        </div>
        <div class="tldr-warn">
          <div class="tldr-warn-icon">!</div>
          <div><strong>Drumbanger users:</strong> The Drumbanger-related scripts handle pattern save/load and MIDI routing. Load them the same way. They'll appear in your Actions list ready to assign to toolbar buttons or hotkeys.</div>
        </div>
      </div>
    </div>

  </div>

  <div class="tldr-time">TOTAL TIME: <span>~3 MINUTES</span> &mdash; ZERO ACCOUNTS &mdash; ZERO DOLLARS &mdash; WORKS ON EVERY OS</div>
</div>

<!-- ============================================ -->
<!-- HERO -->
<!-- ============================================ -->
<section class="hero">
  <h1 class="fade-in">
    <span class="their">THEIR ARCHITECTURE</span>
    <span class="vs">vs</span>
    <span class="ours">OURS</span>
  </h1>
  <p class="subtitle fade-in">
    How the plugin industry turned simple DSP math into a 
    subscription-gated, driver-locked, platform-dependent prison.
    And how JSFX + gmem[] sets you free.
  </p>
  <div class="scroll-hint">▼ scroll ▼</div>
</section>
<!-- ============================================ -->
<!-- EXISTING: SECTION 1: PLUGIN LOADING -->
<!-- ============================================ -->
<div class="comparison">
  <div class="divider"></div>
  <div class="divider-label">PLUGIN ARCHITECTURE</div>

  <div class="side evil">
    <div class="side-label fade-in"><span class="dot"></span> THE INDUSTRY</div>
    <div class="section-title fade-in">Loading a Plugin</div>
    <div class="section-subtitle fade-in">What happens when you open an effect in Logic, Ableton, Pro Tools</div>
    <div class="flow fade-in">
      <div class="flow-node">
        <div class="node-name">DAW Host Process</div>
        <div class="node-detail">Scans VST/AU folders on launch (30-120 seconds)</div>
      </div>
      <div class="flow-arrow"><span>▼ loads binary</span></div>
      <div class="flow-node">
        <div class="node-name">Plugin Binary (.dll / .vst3 / .component)</div>
        <div class="node-detail">Compiled C++, platform-specific, architecture-locked</div>
      </div>
      <div class="flow-arrow"><span>▼ calls home</span></div>
      <div class="flow-node toll">
        <div class="node-name">License Server</div>
        <div class="node-detail">iLok / NI / Waves / Arturia cloud auth check</div>
      </div>
      <div class="flow-arrow"><span>▼ if approved</span></div>
      <div class="flow-node toll">
        <div class="node-name">Subscription Check</div>
        <div class="node-detail">Is your payment current? Did the company get acquired?</div>
      </div>
      <div class="flow-arrow"><span>▼ sandboxed</span></div>
      <div class="flow-node">
        <div class="node-name">Isolated Plugin Instance</div>
        <div class="node-detail">Own memory space. Cannot see other plugins. Black box.</div>
      </div>
      <div class="flow-arrow"><span>▼ audio buffer copy</span></div>
      <div class="flow-node">
        <div class="node-name">DAW Audio Engine</div>
        <div class="node-detail">Copies buffers in and out. Adds latency per plugin.</div>
      </div>
    </div>
  </div>

  <div class="side good">
    <div class="side-label fade-in"><span class="dot"></span> LMS / JSFX</div>
    <div class="section-title fade-in">Loading a Plugin</div>
    <div class="section-subtitle fade-in">What happens when you open an LMS effect in Reaper</div>
    <div class="flow fade-in">
      <div class="flow-node">
        <div class="node-name">Reaper</div>
        <div class="node-detail">Reads a text file. That's it.</div>
      </div>
      <div class="flow-arrow"><span>▼ interprets</span></div>
      <div class="flow-node">
        <div class="node-name">JSFX Source Code (.jsfx)</div>
        <div class="node-detail">Human-readable text. Runs on any CPU, any OS.</div>
      </div>
      <div class="flow-arrow"><span>▼ instant</span></div>
      <div class="flow-node">
        <div class="node-name">Live in the Audio Thread</div>
        <div class="node-detail">No sandbox. No buffer copy. Zero latency. Just math.</div>
      </div>
    </div>
  </div>
</div>

<!-- ============================================ -->
<!-- EXISTING: SECTION 2: INTER-PLUGIN COMMUNICATION -->
<!-- ============================================ -->
<div class="comparison">
  <div class="divider"></div>
  <div class="divider-label">PLUGIN COMMUNICATION</div>

  <div class="side evil">
    <div class="side-label fade-in"><span class="dot"></span> THE INDUSTRY</div>
    <div class="section-title fade-in">Making Plugins Talk</div>
    <div class="section-subtitle fade-in">Getting one plugin to react to another</div>
    <div class="flow fade-in">
      <div class="flow-node">
        <div class="node-name">Plugin A (Track 1)</div>
        <div class="node-detail">Compressor wants to duck on kick</div>
      </div>
      <div class="flow-arrow"><span>▼ audio send</span></div>
      <div class="flow-node">
        <div class="node-name">Create Aux Bus</div>
        <div class="node-detail">Route audio from kick track to sidechain input</div>
      </div>
      <div class="flow-arrow"><span>▼ routing matrix</span></div>
      <div class="flow-node">
        <div class="node-name">DAW I/O Router</div>
        <div class="node-detail">Configure inputs, outputs, bus assignments</div>
      </div>
      <div class="flow-arrow"><span>▼ buffer copy</span></div>
      <div class="flow-node">
        <div class="node-name">Plugin B Sidechain Input</div>
        <div class="node-detail">Receives audio copy (1 block latency minimum)</div>
      </div>
      <div class="flow-arrow"><span>▼ one direction only</span></div>
      <div class="flow-node">
        <div class="node-name">Result</div>
        <div class="node-detail">One plugin reacts to one other plugin. Repeat for each pair.</div>
      </div>
    </div>
  </div>

  <div class="side good">
    <div class="side-label fade-in"><span class="dot"></span> LMS / JSFX</div>
    <div class="section-title fade-in">Making Plugins Talk</div>
    <div class="section-subtitle fade-in">Every LMS plugin can see every other LMS plugin</div>
    <div class="flow fade-in">
      <div class="flow-node gmem">
        <div class="node-name">gmem[] — Shared Memory</div>
        <div class="node-detail">One namespace. All LMS plugins read and write. Same audio block.</div>
      </div>
      <div class="flow-arrow"><span>▼ instant read/write</span></div>
      <div class="flow-node">
        <div class="node-name">Drumbanger (Track 1)</div>
        <div class="node-detail">Writes: pad triggers, step position, pattern data, BPM</div>
      </div>
      <div class="flow-arrow"><span>▼ same sample</span></div>
      <div class="flow-node">
        <div class="node-name">Drone MIDI (Track 3)</div>
        <div class="node-detail">Reads pad 13, outputs scale-locked MIDI to synth</div>
      </div>
      <div class="flow-arrow"><span>▼ same sample</span></div>
      <div class="flow-node">
        <div class="node-name">Drone FX (Track 5)</div>
        <div class="node-detail">Reads pad 1, sidechains bass. No routing. No bus.</div>
      </div>
      <div class="flow-arrow"><span>▼ same sample</span></div>
      <div class="flow-node">
        <div class="node-name">Result</div>
        <div class="node-detail">Every plugin knows everything. Zero latency. Zero config.</div>
      </div>
    </div>
  </div>
</div>

<!-- ============================================ -->
<!-- EXISTING: SECTION 3: SHARING SETTINGS -->
<!-- ============================================ -->
<div class="comparison">
  <div class="divider"></div>
  <div class="divider-label">SETTINGS & STATE</div>

  <div class="side evil">
    <div class="side-label fade-in"><span class="dot"></span> THE INDUSTRY</div>
    <div class="section-title fade-in">Copying Settings</div>
    <div class="section-subtitle fade-in">Using the same effect configuration on two tracks</div>
    <div class="flow fade-in">
      <div class="flow-node">
        <div class="node-name">Plugin Instance A</div>
        <div class="node-detail">You dialed in a great sound</div>
      </div>
      <div class="flow-arrow"><span>▼ save preset</span></div>
      <div class="flow-node">
        <div class="node-name">Preset File (.fxp / .vstpreset)</div>
        <div class="node-detail">Binary blob. Vendor-specific format. Sometimes XML.</div>
      </div>
      <div class="flow-arrow"><span>▼ navigate folder</span></div>
      <div class="flow-node">
        <div class="node-name">File Browser</div>
        <div class="node-detail">Find the preset. Different location per OS. Per plugin.</div>
      </div>
      <div class="flow-arrow"><span>▼ load into new instance</span></div>
      <div class="flow-node">
        <div class="node-name">Plugin Instance B</div>
        <div class="node-detail">Loaded. But now they're independent again. Change A ≠ change B.</div>
      </div>
    </div>
  </div>

  <div class="side good">
    <div class="side-label fade-in"><span class="dot"></span> LMS / JSFX</div>
    <div class="section-title fade-in">Copying Settings</div>
    <div class="section-subtitle fade-in">Every instance can see every other instance's state in real-time</div>
    <div class="flow fade-in">
      <div class="flow-node gmem">
        <div class="node-name">gmem[] Registry</div>
        <div class="node-detail">Every LMS plugin publishes its slider values to shared memory</div>
      </div>
      <div class="flow-arrow"><span>▼ browse</span></div>
      <div class="flow-node">
        <div class="node-name">Plugin Instance B — "Steal Settings"</div>
        <div class="node-detail">Sees all running LMS instances. Click one. Done.</div>
      </div>
      <div class="flow-arrow"><span>▼ or link</span></div>
      <div class="flow-node">
        <div class="node-name">Linked Mode</div>
        <div class="node-detail">Change A = change B. Live. Both directions. No files.</div>
      </div>
    </div>
  </div>
</div>

<!-- ============================================ -->
<!-- EXISTING: SECTION 4: SESSION MANAGEMENT -->
<!-- ============================================ -->
<div class="comparison">
  <div class="divider"></div>
  <div class="divider-label">SESSION MANAGEMENT</div>

  <div class="side evil">
    <div class="side-label fade-in"><span class="dot"></span> THE INDUSTRY</div>
    <div class="section-title fade-in">Sharing a Session</div>
    <div class="section-subtitle fade-in">Getting your setup onto someone else's machine</div>
    <div class="flow fade-in">
      <div class="flow-node">
        <div class="node-name">Your DAW Project File</div>
        <div class="node-detail">Contains references to every plugin by vendor ID</div>
      </div>
      <div class="flow-arrow"><span>▼ send to friend</span></div>
      <div class="flow-node toll">
        <div class="node-name">Missing Plugins</div>
        <div class="node-detail">"Plugin X not found" — do they own it? Right version?</div>
      </div>
      <div class="flow-arrow"><span>▼ buy or pirate</span></div>
      <div class="flow-node toll">
        <div class="node-name">Install + License</div>
        <div class="node-detail">Download 2GB. Activate iLok. Create account. Verify email.</div>
      </div>
      <div class="flow-arrow"><span>▼ maybe works</span></div>
      <div class="flow-node">
        <div class="node-name">Platform Check</div>
        <div class="node-detail">Wrong OS? Wrong architecture? Wrong DAW? Sorry.</div>
      </div>
    </div>
  </div>

  <div class="side good">
    <div class="side-label fade-in"><span class="dot"></span> LMS / JSFX</div>
    <div class="section-title fade-in">Sharing a Session</div>
    <div class="section-subtitle fade-in">Getting your setup onto someone else's machine</div>
    <div class="flow fade-in">
      <div class="flow-node">
        <div class="node-name">trap_starter.lms</div>
        <div class="node-detail">A text file. Human readable. 2KB.</div>
      </div>
      <div class="flow-arrow"><span>▼ send to friend</span></div>
      <div class="flow-node">
        <div class="node-name">Friend Has Reaper + LMS Suite</div>
        <div class="node-detail">One ReaPack URL. Free. Any OS. Any CPU.</div>
      </div>
      <div class="flow-arrow"><span>▼ run loader</span></div>
      <div class="flow-node">
        <div class="node-name">Entire Session Rebuilds</div>
        <div class="node-detail">Tracks, plugins, patterns, FX chains, mix. Instant.</div>
      </div>
    </div>
  </div>
</div>

<!-- ============================================ -->
<!-- EXISTING: STATS -->
<!-- ============================================ -->
<div class="stats">
  <div class="stat">
    <div class="number evil">$750</div>
    <div class="label">Ableton Live Suite</div>
  </div>
  <div class="stat">
    <div class="number evil">$599</div>
    <div class="label">Waves Mercury Bundle</div>
  </div>
  <div class="stat">
    <div class="number evil">$9.99/mo</div>
    <div class="label">Pro Tools Subscription</div>
  </div>
  <div class="stat">
    <div class="number evil">$49/yr</div>
    <div class="label">iLok Cloud License</div>
  </div>
  <div class="stat">
    <div class="number good">$60</div>
    <div class="label">Reaper (forever)</div>
  </div>
  <div class="stat">
    <div class="number good">$0</div>
    <div class="label">LMS Plugin Suite</div>
  </div>
  <div class="stat">
    <div class="number good">$0</div>
    <div class="label">Linux</div>
  </div>
  <div class="stat">
    <div class="number orange">∞</div>
    <div class="label">Yours forever</div>
  </div>
</div>

<!-- ============================================ -->
<!-- EXISTING: BUS ARCHITECTURE COMPARISON -->
<!-- ============================================ -->
<section class="bus-section">
  <h2 class="fade-in">Signal <span style="color:var(--evil-red)">Routing</span> vs Signal <span style="color:var(--good-green)">Sharing</span></h2>
  <p class="bus-subtitle fade-in">
    Traditional DAWs route audio between tracks through buses — each connection is a separate 
    audio path you have to build manually. LMS shares state through memory — every 
    plugin already knows what every other plugin is doing.
  </p>

  <!-- Traditional routing -->
  <div class="bus-diagram evil">
    <h3>TRADITIONAL: 6 TRACKS, SIDECHAIN + REVERB SEND</h3>
    <div class="bus-tracks">
      <div class="bus-track">
        <div class="bus-track-box">KICK</div>
        <div class="bus-track-label">Track 1</div>
      </div>
      <div class="bus-track">
        <div class="bus-track-box">SNARE</div>
        <div class="bus-track-label">Track 2</div>
      </div>
      <div class="bus-track">
        <div class="bus-track-box">BASS<br><span style="font-size:0.45rem;color:#886644">SC IN←T1</span></div>
        <div class="bus-track-label">Track 3</div>
      </div>
      <div class="bus-track">
        <div class="bus-track-box">SYNTH</div>
        <div class="bus-track-label">Track 4</div>
      </div>
      <div class="bus-track">
        <div class="bus-track-box send">VERB<br>BUS</div>
        <div class="bus-track-label">Aux 1</div>
      </div>
      <div class="bus-track">
        <div class="bus-track-box send">DELAY<br>BUS</div>
        <div class="bus-track-label">Aux 2</div>
      </div>
      <div class="bus-track">
        <div class="bus-track-box send">DRUM<br>BUS</div>
        <div class="bus-track-label">Bus 1</div>
      </div>
      <div class="bus-track">
        <div class="bus-track-box master">MASTER</div>
        <div class="bus-track-label">Out</div>
      </div>
    </div>
    <div class="bus-connections">
      <span class="route">T1 → Bus1 (post)</span>
      <span class="route">T2 → Bus1 (post)</span>
      <span class="route">T1 → T3 SC (pre)</span>
      <span class="route">T1 → Aux1 (send -12dB)</span>
      <span class="route">T2 → Aux1 (send -6dB)</span>
      <span class="route">T4 → Aux1 (send -18dB)</span>
      <span class="route">T4 → Aux2 (send -10dB)</span>
      <span class="route">Bus1 → Master</span>
      <span class="route">T3 → Master</span>
      <span class="route">T4 → Master</span>
      <span class="route">Aux1 → Master</span>
      <span class="route">Aux2 → Master</span>
      <br>
      <span style="color:#664444;font-size:0.55rem;">12 manual routing connections. Each one configured separately in the I/O matrix.</span>
    </div>
  </div>

  <!-- LMS routing -->
  <div class="bus-diagram good">
    <h3>LMS: 6 TRACKS, SIDECHAIN + FX — ZERO ROUTING</h3>
    <div class="bus-tracks">
      <div class="bus-track">
        <div class="bus-track-box">DRUM-<br>BANGER</div>
        <div class="bus-track-label">Track 1</div>
      </div>
      <div class="bus-track">
        <div class="bus-track-box">DRONE<br>MIDI→<br>BASS</div>
        <div class="bus-track-label">Track 2</div>
      </div>
      <div class="bus-track">
        <div class="bus-track-box">DRONE<br>FX<br><span style="font-size:0.45rem;color:var(--orange)">SC pad 1</span></div>
        <div class="bus-track-label">Track 2</div>
      </div>
      <div class="bus-track">
        <div class="bus-track-box">DRONE<br>MIDI→<br>SYNTH</div>
        <div class="bus-track-label">Track 3</div>
      </div>
      <div class="bus-track">
        <div class="bus-track-box">DRONE<br>FX<br><span style="font-size:0.45rem;color:var(--orange)">delay+flg</span></div>
        <div class="bus-track-label">Track 3</div>
      </div>
      <div class="bus-track">
        <div class="bus-track-box">CHAN<br>STRIP</div>
        <div class="bus-track-label">Track 4</div>
      </div>
      <div class="bus-track">
        <div class="bus-track-box master">MATCH-<br>ERING</div>
        <div class="bus-track-label">Master</div>
      </div>
    </div>
    <div class="bus-connections">
      <span class="route gmem-route">gmem[] — ALL PLUGINS SHARE STATE</span>
      <br>
      <span class="route">Drumbanger writes triggers → Drones read</span>
      <span class="route">Pattern change → ALL tracks update</span>
      <span class="route">Sidechain via gmem[] — no audio routing</span>
      <br>
      <span style="color:#448844;font-size:0.55rem;">0 manual routing connections. Drop plugin. Select pad. Done.</span>
    </div>
  </div>
</section>

<!-- ============================================ -->
<!-- EXISTING: MEMORY / RESOURCE USAGE -->
<!-- ============================================ -->
<div class="comparison">
  <div class="divider"></div>
  <div class="divider-label">MEMORY USAGE</div>

  <div class="side evil">
    <div class="side-label fade-in"><span class="dot"></span> THE INDUSTRY</div>
    <div class="section-title fade-in">What's Eating Your RAM</div>
    <div class="section-subtitle fade-in">Typical memory footprint of a "professional" production session</div>
    <div class="flow fade-in">
      <div class="flow-node toll">
        <div class="node-name">DAW Runtime</div>
        <div class="node-detail">Logic/Ableton: 800MB–1.5GB just sitting there idle</div>
      </div>
      <div class="flow-arrow"><span>▼ plus</span></div>
      <div class="flow-node toll">
        <div class="node-name">Kontakt + Sample Libraries</div>
        <div class="node-detail">2–8GB per instance. Multiple instances = goodbye RAM.</div>
      </div>
      <div class="flow-arrow"><span>▼ plus</span></div>
      <div class="flow-node toll">
        <div class="node-name">Serum / Omnisphere / Massive</div>
        <div class="node-detail">200–500MB each. Wavetable synths preload everything.</div>
      </div>
      <div class="flow-arrow"><span>▼ plus</span></div>
      <div class="flow-node toll">
        <div class="node-name">Plugin GUIs</div>
        <div class="node-detail">Each photorealistic knob = textures in VRAM. 50–200MB per plugin window.</div>
      </div>
      <div class="flow-arrow"><span>▼ plus</span></div>
      <div class="flow-node">
        <div class="node-name">License Daemons</div>
        <div class="node-detail">iLok, NI Service Center, Pace — running in background 24/7</div>
      </div>
      <div class="flow-arrow"><span>▼ total</span></div>
      <div class="flow-node" style="border-color:#661122;background:#2a0810;">
        <div class="node-name" style="color:var(--evil-red);font-size:1.2rem;">4–16 GB</div>
        <div class="node-detail">For a medium session. Heavy sessions swap to disk. Fans spin. Beach ball.</div>
      </div>
    </div>
  </div>

  <div class="side good">
    <div class="side-label fade-in"><span class="dot"></span> LMS / JSFX</div>
    <div class="section-title fade-in">What's Eating Your RAM</div>
    <div class="section-subtitle fade-in">Memory footprint of an entire LMS production session</div>
    <div class="flow fade-in">
      <div class="flow-node">
        <div class="node-name">Reaper</div>
        <div class="node-detail">~80MB base. Lean C++ app. Respects your computer.</div>
      </div>
      <div class="flow-arrow"><span>▼ plus</span></div>
      <div class="flow-node">
        <div class="node-name">Drumbanger (16 samples loaded)</div>
        <div class="node-detail">~15MB. Raw WAV in memory. No bloat. No GUI textures.</div>
      </div>
      <div class="flow-arrow"><span>▼ plus</span></div>
      <div class="flow-node">
        <div class="node-name">Drone MIDI + Drone FX (x4)</div>
        <div class="node-detail">~2MB total. They're text files running math. That's it.</div>
      </div>
      <div class="flow-arrow"><span>▼ plus</span></div>
      <div class="flow-node">
        <div class="node-name">Channel Strip + Tape Echo + Spring Verb + Matchering</div>
        <div class="node-detail">~3MB total. DSP algorithms. No sample libraries. No textures.</div>
      </div>
      <div class="flow-arrow"><span>▼ plus</span></div>
      <div class="flow-node gmem">
        <div class="node-name">gmem[] shared state</div>
        <div class="node-detail">~64KB. Numbers in memory. The entire inter-plugin mesh.</div>
      </div>
      <div class="flow-arrow"><span>▼ total</span></div>
      <div class="flow-node" style="border-color:#116633;background:#082a10;">
        <div class="node-name" style="color:var(--good-green);font-size:1.2rem;">~100 MB</div>
        <div class="node-detail">Full session. Drum machine + sequencer + 4 synth tracks + FX + master. On a 2017 Mac.</div>
      </div>
    </div>
  </div>
</div>

<!-- Memory stats row -->
<div class="stats">
  <div class="stat">
    <div class="number evil" style="font-size:clamp(1.5rem,3vw,2.5rem);">1.5 GB</div>
    <div class="label">Logic Pro idle</div>
  </div>
  <div class="stat">
    <div class="number evil" style="font-size:clamp(1.5rem,3vw,2.5rem);">4–8 GB</div>
    <div class="label">One Kontakt instance</div>
  </div>
  <div class="stat">
    <div class="number evil" style="font-size:clamp(1.5rem,3vw,2.5rem);">200 MB</div>
    <div class="label">One plugin GUI</div>
  </div>
  <div class="stat">
    <div class="number good" style="font-size:clamp(1.5rem,3vw,2.5rem);">~5 KB</div>
    <div class="label">One JSFX plugin</div>
  </div>
</div>

<!-- ============================================ -->
<!-- EXISTING: LINUX + REAPER TIME TRAVEL -->
<!-- ============================================ -->
<section class="time-travel">
  <div class="time-travel-inner">
    <div class="tt-badge">FREE MEMORY AND TIME TRAVEL</div>
    <h2>LINUX + REAPER =<br><span class="tt-highlight">YOUR COMPUTER JUST WORKS AGAIN</span></h2>
    <p class="tt-text">
      Remember when you turned on your computer and it was just... ready? 
      Before the updates, the notifications, the license checks, the cloud sync, 
      the "your startup disk is almost full," the spinning beach ball, 
      the "please update your payment method"?
    </p>
    <p class="tt-text">
      That computer still exists. It's the same hardware. Nothing broke. 
      They just piled software on top of it until it couldn't breathe.
    </p>

    <div class="tt-timeline">
      <div class="tt-era evil-era">
        <div class="tt-year">YOUR MAC TODAY</div>
        <div class="tt-items">
          <div class="tt-item bad">macOS + Spotlight + Siri + iCloud sync eating CPU at idle</div>
          <div class="tt-item bad">16 background processes you didn't ask for</div>
          <div class="tt-item bad">4GB RAM used before you open anything</div>
          <div class="tt-item bad">"Your system has run out of application memory"</div>
          <div class="tt-item bad">Planned obsolescence: "macOS 16 not supported on your hardware"</div>
          <div class="tt-item bad">Logic won't launch — "Verifying..." for 45 seconds</div>
          <div class="tt-item bad">Fan sounds like a jet engine running one synth</div>
        </div>
      </div>
      <div class="tt-arrow">→ install Linux →</div>
      <div class="tt-era good-era">
        <div class="tt-year">SAME MACHINE + LINUX</div>
        <div class="tt-items">
          <div class="tt-item good-item">Boot to desktop in 8 seconds</div>
          <div class="tt-item good-item">300MB RAM used at idle</div>
          <div class="tt-item good-item">Reaper opens in under 1 second</div>
          <div class="tt-item good-item">Full LMS session: ~100MB total</div>
          <div class="tt-item good-item">No background telemetry. No cloud. No phone home.</div>
          <div class="tt-item good-item">Your computer is silent because nothing is wasting cycles</div>
          <div class="tt-item good-item">Supported forever. By you. Not by a corporation's product roadmap.</div>
        </div>
      </div>
    </div>

    <div class="tt-punchline">
      Your 2017 machine isn't slow. It's been robbed.<br>
      <span class="tt-small">Take it back.</span>
    </div>
  </div>
</section>

<style>
  .time-travel {
    padding: clamp(4rem, 8vw, 8rem) clamp(1.5rem, 4vw, 4rem);
    position: relative;
    overflow: hidden;
  }

  .time-travel::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background: 
      radial-gradient(ellipse at 20% 30%, #0a1a3022 0%, transparent 50%),
      radial-gradient(ellipse at 80% 70%, var(--good-glow) 0%, transparent 40%);
    pointer-events: none;
  }

  .time-travel-inner {
    max-width: 1100px;
    margin: 0 auto;
    position: relative;
    text-align: center;
  }

  .tt-badge {
    display: inline-block;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.7rem;
    font-weight: 800;
    letter-spacing: 0.25em;
    color: var(--orange);
    border: 1px solid var(--orange);
    padding: 0.4rem 1.2rem;
    border-radius: 100px;
    margin-bottom: 2rem;
  }

  .time-travel h2 {
    font-family: 'JetBrains Mono', monospace;
    font-weight: 800;
    font-size: clamp(1.5rem, 4vw, 3rem);
    line-height: 1.2;
    margin-bottom: 2rem;
    color: var(--text);
  }

  .tt-highlight {
    color: var(--good-green);
    text-shadow: 0 0 40px var(--good-glow);
  }

  .tt-text {
    max-width: 650px;
    margin: 0 auto 1.5rem;
    font-size: 1.05rem;
    font-weight: 300;
    line-height: 1.7;
    color: var(--text-dim);
  }

  .tt-timeline {
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    gap: 1.5rem;
    align-items: center;
    margin: 3rem 0;
    text-align: left;
  }

  @media (max-width: 800px) {
    .tt-timeline { grid-template-columns: 1fr; }
    .tt-arrow { text-align: center; transform: rotate(90deg); }
  }

  .tt-year {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.7rem;
    font-weight: 800;
    letter-spacing: 0.15em;
    margin-bottom: 1rem;
  }

  .evil-era .tt-year { color: var(--evil-red); }
  .good-era .tt-year { color: var(--good-green); }

  .tt-items {
    display: flex;
    flex-direction: column;
    gap: 0.4rem;
  }

  .tt-item {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.7rem;
    padding: 0.5rem 0.75rem;
    border-radius: 4px;
    line-height: 1.4;
  }

  .tt-item.bad {
    background: linear-gradient(135deg, #1a0810 0%, #0d0608 100%);
    border: 1px solid #2a1015;
    color: #cc8888;
  }

  .tt-item.bad::before {
    content: '\2715 ';
    color: var(--evil-red);
    font-weight: 800;
  }

  .tt-item.good-item {
    background: linear-gradient(135deg, #081508 0%, #060d08 100%);
    border: 1px solid #0a2a15;
    color: #88cc99;
  }

  .tt-item.good-item::before {
    content: '\2713 ';
    color: var(--good-green);
    font-weight: 800;
  }

  .tt-arrow {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.75rem;
    font-weight: 800;
    color: var(--orange);
    white-space: nowrap;
    text-align: center;
  }

  .tt-punchline {
    margin-top: 3rem;
    font-family: 'Outfit', sans-serif;
    font-weight: 900;
    font-size: clamp(1.3rem, 3vw, 2rem);
    color: var(--text);
    line-height: 1.5;
  }

  .tt-small {
    display: block;
    font-family: 'JetBrains Mono', monospace;
    font-weight: 300;
    font-size: 1rem;
    color: var(--good-green);
    margin-top: 0.5rem;
    letter-spacing: 0.1em;
  }
</style>

<!-- ============================================ -->
<!-- EXISTING: SHARED DSP CORE -->
<!-- ============================================ -->
<section class="core-section">
  <div class="core-inner">
    <div class="tt-badge" style="border-color:#f07a2e;color:#f07a2e;">SHARED DSP KERNEL</div>
    <h2 class="core-title">One Core. <span style="color:#f07a2e;">Every Plugin.</span></h2>
    <p class="core-subtitle">
      Traditional suites copy-paste DSP code into every plugin. Different versions drift out of sync.
      LMS stores every algorithm once in a shared library. Fix it once, fix it everywhere.
    </p>

    <!-- OLD WAY -->
    <div class="core-diagram">
      <div class="core-diagram-label evil-label">THE OLD WAY — EVERY PLUGIN SHIPS ITS OWN COPY</div>
      <div class="core-grid old-grid">
        <div class="core-plugin-box old-box">
          <div class="core-plugin-name">CHANNEL STRIP</div>
          <div class="core-alg">FET comp <span class="version-bad">v2.1</span></div>
          <div class="core-alg">Biquad EQ <span class="version-ok">v1.8</span></div>
          <div class="core-alg">Tape sat <span class="version-bad">v1.2</span></div>
          <div class="core-alg">DC blocker <span class="version-ok">v1.0</span></div>
          <div class="core-footprint">~400 lines of DSP</div>
        </div>
        <div class="core-plugin-box old-box">
          <div class="core-plugin-name">DRUMBANGER</div>
          <div class="core-alg">FET comp <span class="version-bad">v1.9 ✕</span></div>
          <div class="core-alg">Biquad EQ <span class="version-ok">v1.8</span></div>
          <div class="core-alg">Tape sat <span class="version-bad">v1.0 ✕</span></div>
          <div class="core-alg">DC blocker <span class="version-ok">v1.0</span></div>
          <div class="core-footprint">~400 lines DUPLICATED</div>
        </div>
        <div class="core-plugin-box old-box">
          <div class="core-plugin-name">DRONE FX</div>
          <div class="core-alg">FET comp <span class="version-bad">v2.0 ✕</span></div>
          <div class="core-alg">Biquad EQ <span class="version-bad">v1.5 ✕</span></div>
          <div class="core-alg">Delay <span class="version-ok">v1.1</span></div>
          <div class="core-alg">Flanger <span class="version-ok">v1.0</span></div>
          <div class="core-footprint">~400 lines DUPLICATED</div>
        </div>
        <div class="core-plugin-box old-box">
          <div class="core-plugin-name">TAPE ECHO</div>
          <div class="core-alg">Biquad EQ <span class="version-bad">v1.6 ✕</span></div>
          <div class="core-alg">Tape sat <span class="version-bad">v1.1 ✕</span></div>
          <div class="core-alg">DC blocker <span class="version-bad">v0.9 ✕</span></div>
          <div class="core-alg">Delay <span class="version-bad">v1.0 ✕</span></div>
          <div class="core-footprint">~400 lines DUPLICATED</div>
        </div>
      </div>
      <div class="core-verdict bad-verdict">✕ 6 different versions of the same math drifting out of sync across the suite</div>
    </div>

    <!-- NEW WAY -->
    <div class="core-diagram" style="margin-top:2rem;">
      <div class="core-diagram-label good-label">THE LMS WAY — ONE SHARED CORE, EVERY PLUGIN IMPORTS IT</div>
      
      <!-- The core box -->
      <div class="the-core">
        <div class="the-core-name">lms_core.jsfx-inc</div>
        <div class="the-core-subtitle">ONE FILE — THE SOURCE OF TRUTH</div>
        <div class="core-alg-grid">
          <span class="core-chip">FET comp</span>
          <span class="core-chip">LA2A opto</span>
          <span class="core-chip">Biquad EQ</span>
          <span class="core-chip">Tape sat</span>
          <span class="core-chip">Delay</span>
          <span class="core-chip">Flanger</span>
          <span class="core-chip">DC block</span>
          <span class="core-chip">Pan law</span>
        </div>
        <div class="the-core-community">
          Open source. Community-improved.<br>
          One PR makes every plugin in the suite better.
        </div>
      </div>

      <!-- Connection lines (pure CSS) -->
      <div class="core-connections">
        <div class="core-line"></div>
        <div class="core-line"></div>
        <div class="core-line"></div>
        <div class="core-line"></div>
      </div>

      <!-- Thin plugin boxes -->
      <div class="core-grid new-grid">
        <div class="core-plugin-box new-box">
          <div class="core-plugin-name new-name">CHANNEL STRIP</div>
          <div class="core-thin-desc">UI + routing logic only</div>
        </div>
        <div class="core-plugin-box new-box">
          <div class="core-plugin-name new-name">DRUMBANGER</div>
          <div class="core-thin-desc">UI + sequencer logic only</div>
        </div>
        <div class="core-plugin-box new-box">
          <div class="core-plugin-name new-name">DRONE FX</div>
          <div class="core-thin-desc">UI + gmem[] logic only</div>
        </div>
        <div class="core-plugin-box new-box">
          <div class="core-plugin-name new-name">TAPE ECHO</div>
          <div class="core-thin-desc">UI + tape logic only</div>
        </div>
      </div>

      <div class="core-verdict good-verdict">ONE PR TO lms_core → EVERY PLUGIN IN THE SUITE GETS BETTER</div>
    </div>
  </div>
</section>

<!-- ============================================ -->
<!-- DENSITY-AWARE AMP SECTION -->
<!-- ============================================ -->
<div class="da-section-label">INTERACTIVE DEMO</div>

<div class="da-demo-wrap">
  <div class="da-mode-toggle">
    <button class="da-mode-btn da-active-lms" id="da-btn-lms" onclick="daSetMode('lms')">LMS (Density-Aware)</button>
    <button class="da-mode-btn" id="da-btn-trad" onclick="daSetMode('traditional')">Traditional (Static)</button>
  </div>

  <div class="da-demo-layout">
    <!-- Strum area -->
    <div style="display:flex;flex-direction:column;align-items:center">
      <div class="da-strum-label">&#8595; DRAG TO PLAY &#8595;</div>
      <div class="da-strum-area" id="da-strum-area">
        <div class="da-strum-string" style="left:20%"></div>
        <div class="da-strum-string" style="left:35%"></div>
        <div class="da-strum-string" style="left:50%"></div>
        <div class="da-strum-string" style="left:65%"></div>
        <div class="da-strum-string" style="left:80%"></div>
        <div class="da-pick-indicator" id="da-pick-indicator"></div>
        <div class="da-strum-hint" style="top:6px">SOFT</div>
        <div class="da-strum-hint" style="bottom:6px">HARD</div>
      </div>
    </div>

    <!-- Amp viz -->
    <div style="display:flex;flex-direction:column;align-items:center" id="da-amp-viz">
      <div class="da-tubes-row" id="da-tubes-row"></div>
      <div class="da-matrix-wrap da-lms-mode" id="da-matrix-wrap">
        <div class="da-matrix-grid" id="da-matrix-grid"></div>
        <div class="da-band-labels" id="da-band-labels"></div>
      </div>
      <div class="da-meters-row" id="da-meters-row"></div>
    </div>

    <!-- Output -->
    <div class="da-output-bar-wrap" style="display:flex;flex-direction:column;align-items:center">
      <div class="da-strum-label">OUTPUT</div>
      <div class="da-output-bar">
        <div class="da-output-fill" id="da-output-fill"></div>
        <div class="da-output-value" id="da-output-value">0</div>
      </div>
      <div class="da-output-label" id="da-output-label">Shaped by density</div>
    </div>
  </div>

  <!-- Miller explanation -->
  <div class="da-miller-box" id="da-miller-box">
    <h3 id="da-miller-title">WHAT YOU'RE SEEING</h3>
    <p id="da-miller-text"></p>
    <div class="da-miller-callout" id="da-miller-callout"></div>
  </div>
</div>

<!-- Quote transition -->
<div class="da-quote-box">
  <p>"Why does every single digital amp always sound like shit and play like shit clean? Then you plug into a real one and it's like... ahhhhhh."</p>
  <div class="da-attr">— the question that started all of this</div>
</div>

<!-- ============================================ -->
<!-- ARCHITECTURE COMPARISON FROM DENSITY-AMP -->
<!-- ============================================ -->
<div class="da-section-label">ARCHITECTURE COMPARISON</div>

<div class="da-compare-section">
  <div class="da-compare-grid">
    <!-- Traditional -->
    <div class="da-compare-col da-trad-col">
      <h3>Every Other Amp Sim</h3>
      <div class="da-stage-box da-trad"><span class="da-stage-name">INPUT</span><div class="da-stage-sub">Wire. No physics.</div></div>
      <div class="da-stage-arrow da-trad">&#8595;</div>
      <div class="da-stage-box da-trad"><span class="da-stage-name">GAIN STAGE 1</span><div class="da-stage-sub">tanh(x × gain) — static curve</div></div>
      <div class="da-stage-arrow da-trad">&#8595;</div>
      <div class="da-stage-box da-trad"><span class="da-stage-name">FIXED FILTER</span><div class="da-stage-sub">LP @ 8000 Hz — set once, never changes</div></div>
      <div class="da-stage-arrow da-trad">&#8595;</div>
      <div class="da-stage-box da-trad"><span class="da-stage-name">GAIN STAGE 2</span><div class="da-stage-sub">Same function. Doesn't know Stage 1 exists.</div></div>
      <div class="da-stage-arrow da-trad">&#8595;</div>
      <div class="da-stage-box da-trad"><span class="da-stage-name">TONE → POWER → CAB</span><div class="da-stage-sub">No shared power supply. Cab is a WAV sticker.</div></div>
      <div class="da-checklist">
        <div class="da-check-item da-off">Inter-stage awareness</div>
        <div class="da-check-item da-off">Frequency tracking</div>
        <div class="da-check-item da-off">Dynamic Miller cap</div>
        <div class="da-check-item da-off">Shared power supply</div>
        <div class="da-check-item da-off">Density feedback</div>
        <div class="da-check-item da-off">Grid physics</div>
        <div class="da-check-item da-off">Harmonic analysis</div>
        <div class="da-check-item da-off">Adaptive clipping</div>
      </div>
      <div style="margin-top:14px;padding:12px;border-radius:6px;background:#1a0a0a;border:1px solid #442222">
        <div style="font-family:var(--da-mono);font-size:9px;font-weight:700;color:#cc4444;letter-spacing:1px;margin-bottom:8px">CPU WASTE — COMPENSATING FOR BAD ARCHITECTURE</div>
        <div style="font-size:10px;color:#888;line-height:1.6;margin-bottom:8px">
          Since the stages can't talk to each other, they brute-force their way to "good enough":
        </div>
        <div style="display:flex;flex-direction:column;gap:6px">
          <div style="display:flex;align-items:flex-start;gap:6px">
            <div style="background:#442222;border-radius:3px;padding:2px 6px;font-family:var(--da-mono);font-size:9px;color:#cc6666;white-space:nowrap;flex-shrink:0">4–8×</div>
            <div style="font-size:9px;color:#777;line-height:1.4"><strong style="color:#999">Oversampling</strong> — running at 176–352kHz to suppress aliasing that smart architecture would prevent</div>
          </div>
          <div style="display:flex;align-items:flex-start;gap:6px">
            <div style="background:#442222;border-radius:3px;padding:2px 6px;font-family:var(--da-mono);font-size:9px;color:#cc6666;white-space:nowrap;flex-shrink:0">1000+</div>
            <div style="font-size:9px;color:#777;line-height:1.4"><strong style="color:#999">IR convolution taps</strong> — thousands of multiply-adds per sample because they can't model a speaker with 5 biquads</div>
          </div>
          <div style="display:flex;align-items:flex-start;gap:6px">
            <div style="background:#442222;border-radius:3px;padding:2px 6px;font-family:var(--da-mono);font-size:9px;color:#cc6666;white-space:nowrap;flex-shrink:0">LSTM</div>
            <div style="font-size:9px;color:#777;line-height:1.4"><strong style="color:#999">Neural net per sample</strong> — NAM/ToneX run full matrix math 44,100 times/sec to approximate what envelope followers do</div>
          </div>
        </div>
        <div style="margin-top:10px;padding:8px;border-radius:4px;background:#220a0a;text-align:center">
          <div style="font-family:var(--da-mono);font-size:11px;color:#cc4444;font-weight:700">5–15% CPU per track</div>
          <div style="font-family:var(--da-mono);font-size:9px;color:#664444;margin-top:2px">1 instance = freeze your other tracks</div>
        </div>
      </div>
    </div>

    <!-- LMS -->
    <div class="da-compare-col da-lms-col">
      <h3>LMS Density-Aware</h3>
      <div class="da-stage-box da-lms"><span class="da-stage-name">INPUT STAGE</span><div class="da-stage-sub">Grid physics: loading, bias shift, conduction</div></div>
      <div class="da-stage-arrow da-lms">&#8595;</div>
      <div class="da-stage-box da-lms"><span class="da-stage-name">V1 + DENSITY TRACKER</span><div class="da-stage-sub">4-band harmonic analysis → shapes clipping, Miller, drive</div></div>
      <div class="da-stage-arrow da-lms">&#8595;</div>
      <div class="da-stage-box da-lms"><span class="da-stage-name">DYNAMIC MILLER LP</span><div class="da-stage-sub">5kHz–8.5kHz — follows density in real time</div></div>
      <div class="da-stage-arrow da-lms">&#8595;</div>
      <div class="da-stage-box da-lms"><span class="da-stage-name">V2 + DENSITY TRACKER</span><div class="da-stage-sub">Sees V1's output. Its own harmonic view.</div></div>
      <div class="da-stage-arrow da-lms">&#8595;</div>
      <div class="da-stage-box da-lms"><span class="da-stage-name">TONE → POWER → CAB</span><div class="da-stage-sub">Shared B+ rail. Power amp density-aware.</div></div>
      <div class="da-checklist">
        <div class="da-check-item da-on">Inter-stage awareness</div>
        <div class="da-check-item da-on">Frequency tracking</div>
        <div class="da-check-item da-on">Dynamic Miller cap</div>
        <div class="da-check-item da-on">Shared power supply</div>
        <div class="da-check-item da-on">Density feedback</div>
        <div class="da-check-item da-on">Grid physics</div>
        <div class="da-check-item da-on">Harmonic analysis</div>
        <div class="da-check-item da-on">Adaptive clipping</div>
      </div>
      <div style="margin-top:14px;padding:12px;border-radius:6px;background:#0a1a0a;border:1px solid #224422">
        <div style="font-family:var(--da-mono);font-size:9px;font-weight:700;color:#22c55e;letter-spacing:1px;margin-bottom:8px">CPU EFFICIENCY — INTELLIGENCE OVER HORSEPOWER</div>
        <div style="font-size:10px;color:#888;line-height:1.6;margin-bottom:8px">
          When stages know what the others are doing, you don't need brute force:
        </div>
        <div style="display:flex;flex-direction:column;gap:6px">
          <div style="display:flex;align-items:flex-start;gap:6px">
            <div style="background:#224422;border-radius:3px;padding:2px 6px;font-family:var(--da-mono);font-size:9px;color:#44cc66;white-space:nowrap;flex-shrink:0">1×</div>
            <div style="font-size:9px;color:#888;line-height:1.4"><strong style="color:#aaa">No oversampling</strong> — density-aware filtering prevents the aliasing before it happens</div>
          </div>
          <div style="display:flex;align-items:flex-start;gap:6px">
            <div style="background:#224422;border-radius:3px;padding:2px 6px;font-family:var(--da-mono);font-size:9px;color:#44cc66;white-space:nowrap;flex-shrink:0">5 bq</div>
            <div style="font-size:9px;color:#888;line-height:1.4"><strong style="color:#aaa">Biquad cab model</strong> — 5 filters modeled from speaker physics, ~30 ops vs thousands</div>
          </div>
          <div style="display:flex;align-items:flex-start;gap:6px">
            <div style="background:#224422;border-radius:3px;padding:2px 6px;font-family:var(--da-mono);font-size:9px;color:#44cc66;white-space:nowrap;flex-shrink:0">~10</div>
            <div style="font-size:9px;color:#888;line-height:1.4"><strong style="color:#aaa">Ops for density tracking</strong> — envelope followers and ratios. The math that makes it all work costs almost nothing.</div>
          </div>
        </div>
        <div style="margin-top:10px;padding:8px;border-radius:4px;background:#0a220a;text-align:center">
          <div style="font-family:var(--da-mono);font-size:11px;color:#22c55e;font-weight:700">2.5% CPU for 16 tracks</div>
          <div style="font-family:var(--da-mono);font-size:9px;color:#447744;margin-top:2px">the whole session, not one plugin</div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ============================================ -->
<!-- THE DONUT PROBLEM -->
<!-- ============================================ -->
<div class="da-section-label">THE DONUT PROBLEM</div>

<div class="da-donut-wrap">
  <div class="da-donut-box">
    <div class="da-donut-quote">
      "I give you the money, you give me the donut. End of transaction.<br>
      We don't need to bring ink and paper into this."
    </div>
    <div class="da-donut-attr">— Mitch Hedberg, on receipts</div>
    <div class="da-donut-text">
      Every traditional audio plugin watches its <em>output</em> and tries to <strong style="color:#cc6666">infer</strong>
      what the input just did. The compressor sees a peak and guesses a transient happened.
      The gate sees silence and guesses the note ended. The de-esser sees sibilance and guesses
      the vocalist hit an S.
    </div>
    <div class="da-donut-text">
      The signal already passed through. The transient already happened. Why are you printing a receipt?
    </div>
    <div class="da-donut-text">
      LMS plugins don't infer. The density tracker <strong style="color:var(--amber)">was there</strong>.
      It processed the signal. It knows the harmonic content because it computed the harmonic
      content as part of doing its actual job. The measurement isn't a query — it's a
      <strong style="color:var(--amber)">byproduct of the work that already happened</strong>.
    </div>
    <div class="da-donut-comparison">
      <div class="da-donut-side">
        <div class="da-donut-side-label" style="color:#cc6666">EVERYONE ELSE</div>
        <div class="da-donut-side-text">Signal → Process → Measure output → Guess what happened → React</div>
      </div>
      <div class="da-donut-side">
        <div class="da-donut-side-label" style="color:var(--da-green)">LMS</div>
        <div class="da-donut-side-text" style="color:#ccc">Signal → Process (measurement IS the process) → Already know → Already responded</div>
      </div>
    </div>
    <div class="da-donut-footer">
      I give you the signal. You give me the donut. No receipt needed.
    </div>
  </div>
</div>

<!-- Epicycles quote -->
<div class="da-quote-box">
  <p>"They make averages and wonder why it sounds average.<br>Rube Goldberg machines and epicycles."</p>
  <div class="da-attr">— on the traditional approach</div>
</div>

<!-- ============================================ -->
<!-- EXISTING: PERFORMANCE PROOF -->
<!-- ============================================ -->
<section class="perf-section">
  <div class="perf-inner">
    <div class="tt-badge" style="border-color:#4de88a;color:#4de88a;">REAL WORLD PROOF</div>
    <h2 class="core-title">Don't Take Our Word For It. <span style="color:#4de88a;">Look at the Numbers.</span></h2>
    
    <div class="perf-cards">
      <div class="perf-card">
        <div class="perf-number" style="color:#4de88a;">62</div>
        <div class="perf-label">Live FX plugins</div>
        <div class="perf-detail">Fully active channel strips, delays, compressors. Not bypassed. Not frozen.</div>
      </div>
      <div class="perf-card">
        <div class="perf-number" style="color:#4de88a;">5%</div>
        <div class="perf-label">Total FX CPU</div>
        <div class="perf-detail">The computer is barely awake.</div>
      </div>
      <div class="perf-card">
        <div class="perf-number" style="color:#4de88a;">755 MB</div>
        <div class="perf-label">Total RAM usage</div>
        <div class="perf-detail">Full session including the operating system. One Kontakt patch uses more.</div>
      </div>
      <div class="perf-card stress-card">
        <div class="perf-number" style="color:#f07a2e;">256</div>
        <div class="perf-label">Stress test: plugins running</div>
        <div class="perf-detail">60 tracks. It took 256 live effects to crack 20% CPU. On a 2017 Mac.</div>
      </div>
    </div>

    <div class="perf-punchline">
      Each LMS plugin costs approximately <span style="color:#4de88a;">0.08% CPU</span>.<br>
      <span style="color:#888890;">One instance of Serum uses 5–15%. You do the math.</span>
    </div>
  </div>
</section>

<style>
  /* ============================================ */
  /* SHARED CORE SECTION */
  /* ============================================ */
  .core-section {
    padding: clamp(3rem, 5vw, 6rem) clamp(1.5rem, 4vw, 4rem);
  }

  .core-inner {
    max-width: 1100px;
    margin: 0 auto;
    text-align: center;
  }

  .core-title {
    font-family: 'JetBrains Mono', monospace;
    font-weight: 800;
    font-size: clamp(1.5rem, 3vw, 2.5rem);
    color: #d8d8dd;
    margin-bottom: 1rem;
  }

  .core-subtitle {
    color: #888890;
    font-weight: 300;
    font-size: 1rem;
    max-width: 700px;
    margin: 0 auto 3rem;
    line-height: 1.6;
  }

  .core-diagram {
    background: #0e0e12;
    border: 1px solid #2a2a32;
    border-radius: 8px;
    padding: clamp(1.5rem, 3vw, 2.5rem);
    text-align: center;
  }

  .core-diagram-label {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.7rem;
    font-weight: 800;
    letter-spacing: 0.15em;
    margin-bottom: 1.5rem;
  }

  .evil-label { color: #ff2244; }
  .good-label { color: #4de88a; }

  .core-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 1rem;
    margin-bottom: 1.5rem;
  }

  .core-plugin-box {
    border-radius: 6px;
    padding: 1rem;
    text-align: center;
  }

  .old-box {
    background: linear-gradient(135deg, #150810 0%, #0d0608 100%);
    border: 1px solid #2a1015;
  }

  .new-box {
    background: linear-gradient(135deg, #081508 0%, #060d08 100%);
    border: 1px solid #0a2a15;
  }

  .core-plugin-name {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.75rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
  }

  .old-box .core-plugin-name { color: #ff2244; }
  .new-name { color: #4de88a !important; }

  .core-alg {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.65rem;
    color: #aa6666;
    padding: 0.25rem 0.5rem;
    margin: 0.2rem 0;
    background: #1a0810;
    border: 1px solid #331020;
    border-radius: 3px;
  }

  .version-bad { color: #ff6644; }
  .version-ok { color: #888866; }

  .core-footprint {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.6rem;
    color: #664444;
    margin-top: 0.75rem;
  }

  .core-verdict {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.75rem;
    font-weight: 700;
    padding: 0.75rem 1.5rem;
    border-radius: 4px;
    display: inline-block;
  }

  .bad-verdict {
    color: #ff6644;
    background: #1a0a00;
    border: 1px solid #ff224444;
  }

  .good-verdict {
    color: #4de88a;
    background: #051a0c;
    border: 1px solid #4de88a44;
  }

  .core-thin-desc {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.65rem;
    color: #448844;
  }

  /* The Core Box */
  .the-core {
    border: 2px dashed #f07a2e;
    border-radius: 8px;
    background: linear-gradient(135deg, #0d1508 0%, #0a0d06 100%);
    padding: 1.5rem;
    margin-bottom: 0;
  }

  .the-core-name {
    font-family: 'JetBrains Mono', monospace;
    font-size: clamp(1rem, 2vw, 1.3rem);
    font-weight: 800;
    color: #f07a2e;
    margin-bottom: 0.25rem;
  }

  .the-core-subtitle {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.65rem;
    color: #886a40;
    letter-spacing: 0.1em;
    margin-bottom: 1rem;
  }

  .core-alg-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    justify-content: center;
    margin-bottom: 1rem;
  }

  .core-chip {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.7rem;
    font-weight: 700;
    color: #ccaa55;
    padding: 0.35rem 0.75rem;
    background: #1a1505;
    border: 1px solid #4a3a15;
    border-radius: 3px;
  }

  .the-core-community {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.65rem;
    color: #888866;
    line-height: 1.6;
  }

  /* Connection lines */
  .core-connections {
    display: flex;
    justify-content: space-around;
    padding: 0 10%;
    height: 30px;
    margin: 0;
  }

  .core-line {
    width: 2px;
    height: 100%;
    background: linear-gradient(to bottom, #4de88a88, #4de88a22);
  }

  /* ============================================ */
  /* PERFORMANCE PROOF */
  /* ============================================ */
  .perf-section {
    padding: clamp(3rem, 5vw, 6rem) clamp(1.5rem, 4vw, 4rem);
  }

  .perf-inner {
    max-width: 1000px;
    margin: 0 auto;
    text-align: center;
  }

  .perf-cards {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin: 2.5rem 0;
  }

  .perf-card {
    background: #0e0e12;
    border: 1px solid #0a2a15;
    border-radius: 8px;
    padding: 1.5rem 1rem;
  }

  .stress-card {
    border-color: #4a3000;
  }

  .perf-number {
    font-family: 'JetBrains Mono', monospace;
    font-weight: 800;
    font-size: clamp(2.5rem, 5vw, 3.5rem);
    line-height: 1;
    margin-bottom: 0.5rem;
    text-shadow: 0 0 30px currentColor;
  }

  .perf-label {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.8rem;
    font-weight: 700;
    color: #d8d8dd;
    margin-bottom: 0.5rem;
  }

  .perf-detail {
    font-size: 0.75rem;
    color: #888890;
    font-weight: 300;
    line-height: 1.4;
  }

  .perf-punchline {
    font-family: 'JetBrains Mono', monospace;
    font-weight: 700;
    font-size: clamp(0.9rem, 2vw, 1.1rem);
    color: #d8d8dd;
    line-height: 1.8;
    margin-top: 1rem;
  }
</style>

<!-- ============================================ -->
<!-- NEW: THE LMS SUITE (COMPLETE PLUGIN LIST) -->
<!-- ============================================ -->
<div class="da-section-label">THE LMS SUITE</div>

<div class="da-suite-wrap">
  <div class="da-suite-desc">
    All open source. All JSFX. All zero latency. All interconnected via shared memory.<br>
    Install from ReaPack in one click. Works everywhere REAPER runs — including Linux.
  </div>

  <div class="da-suite-grid">
    <!-- DENSITY-AWARE AMP SIMS -->
    <div class="da-suite-card" style="border-color:var(--amber-dim);">
      <div class="da-suite-card-header da-amber">DENSITY-AWARE AMP SIMS (7)</div>
      <div class="da-suite-item"><strong>The Twins v2</strong> <span class="da-suite-item-desc">— Fender Twin Reverb / Deluxe Reverb (AB763 preamp, cathode follower, Fender tone stack, 12AT7 LTP PI, switchable 6L6GC/6V6GT power amp, switchable silicon/tube rectifier)</span></div>
      <div class="da-suite-item"><strong>Punk Idol v2</strong> <span class="da-suite-item-desc">— Marshall JCM800 (bright cap, Marshall tone stack, 12AX7 LTP PI, EL34 push-pull, presence in NFB loop)</span></div>
      <div class="da-suite-item"><strong>The Frenchie v2</strong> <span class="da-suite-item-desc">— Fender Champ 5F1 (single-ended 6V6, 5Y3 tube rectifier, transformer saturation, tremolo)</span></div>
      <div class="da-suite-item"><strong>The Fridge v2</strong> <span class="da-suite-item-desc">— Ampeg SVT (dual channel, 6550 push-pull, transformer saturation, ultra-linear OT)</span></div>
      <div class="da-suite-item"><strong>Top Boost v2</strong> <span class="da-suite-item-desc">— Vox AC15 (EF86 pentode + Top Boost 12AX7, cathodyne PI, EL84 push-pull, tremolo)</span></div>
      <div class="da-suite-item"><strong>The TRSOB v2</strong> <span class="da-suite-item-desc">— Mesa Triple Rectifier (Clean/Vintage/Modern channels, dual rectifier, 5-band EQ, 6L6 push-pull)</span></div>
      <div class="da-suite-item"><strong>Chris' Bedroom</strong> <span class="da-suite-item-desc">— Four classic amp models in one (legacy, pre-density-aware)</span></div>
      <div class="da-suite-footer">Grid physics / Dynamic Miller LP / Shared PSU / 4-band density tracking</div>
    </div>

    <!-- INSTRUMENTS -->
    <div class="da-suite-card" style="border-color:rgba(34,197,94,0.25);">
      <div class="da-suite-card-header da-green">INSTRUMENTS (5)</div>
      <div class="da-suite-item"><strong>NUUG 420</strong> <span class="da-suite-item-desc">— Moog-style analog synthesizer (24dB ladder filter, 3 oscillators)</span></div>
      <div class="da-suite-item"><strong>Drumbanger</strong> <span class="da-suite-item-desc">— 16-pad drum machine + step sequencer (gmem-connected)</span></div>
      <div class="da-suite-item"><strong>Drone MIDI</strong> <span class="da-suite-item-desc">— Sequencer satellite (reads Drumbanger triggers, outputs MIDI)</span></div>
      <div class="da-suite-item"><strong>Drone FX</strong> <span class="da-suite-item-desc">— FX processing satellite (sidechain, delay, flanger via gmem)</span></div>
      <div class="da-suite-item"><strong>Density Sequencer</strong> <span class="da-suite-item-desc">— Play guitar, drums follow (cross-plugin density reactive)</span></div>
      <div class="da-suite-footer">All interconnected via gmem bus</div>
    </div>

    <!-- CHANNEL TOOLS -->
    <div class="da-suite-card" style="border-color:rgba(167,139,250,0.25);">
      <div class="da-suite-card-header da-purple">CHANNEL TOOLS (6)</div>
      <div class="da-suite-item"><strong>RTW (Reinvents The Wheel)</strong> <span class="da-suite-item-desc">— Channel strip (EQ + compression + gate)</span></div>
      <div class="da-suite-item"><strong>KITTY KATS Big Krush</strong> <span class="da-suite-item-desc">— Distressor-style compressor/crusher</span></div>
      <div class="da-suite-item"><strong>PEQ4U</strong> <span class="da-suite-item-desc">— 4-band parametric EQ</span></div>
      <div class="da-suite-item"><strong>Tube Saturator</strong> <span class="da-suite-item-desc">— Tube/tape/transistor saturation</span></div>
      <div class="da-suite-item"><strong>Density Limiter</strong> <span class="da-suite-item-desc">— Predictive mastering limiter (gmem-aware, artifact-free)</span></div>
      <div class="da-suite-item"><strong>Matchering</strong> <span class="da-suite-item-desc">— Mastering reference matching (FIR convolution)</span></div>
      <div class="da-suite-footer">Density-aware compressors coming</div>
    </div>

    <!-- EFFECTS -->
    <div class="da-suite-card" style="border-color:rgba(59,130,246,0.25);">
      <div class="da-suite-card-header da-blue">EFFECTS (3)</div>
      <div class="da-suite-item"><strong>Henge Delay</strong> <span class="da-suite-item-desc">— Tape echo with wow/flutter/feedback</span></div>
      <div class="da-suite-item"><strong>Tape Machine</strong> <span class="da-suite-item-desc">— Tape saturation and coloring</span></div>
      <div class="da-suite-item"><strong>Sound City Drum Room</strong> <span class="da-suite-item-desc">— Vintage room reverb + compression</span></div>
      <div class="da-suite-footer">All broadcast state for cross-plugin awareness</div>
    </div>

    <!-- SESSION SCRIPTS -->
    <div class="da-suite-card" style="border-color:rgba(240,122,46,0.25);">
      <div class="da-suite-card-header da-orange">SESSION SCRIPTS — LUA (3)</div>
      <div class="da-suite-item"><strong>lms_save.lua</strong> <span class="da-suite-item-desc">— Save all LMS plugin states</span></div>
      <div class="da-suite-item"><strong>lms_load.lua</strong> <span class="da-suite-item-desc">— Load/restore LMS plugin states</span></div>
      <div class="da-suite-item"><strong>lms_steal.lua</strong> <span class="da-suite-item-desc">— Steal settings from one instance to another</span></div>
      <div class="da-suite-footer">Session management via Reaper Actions</div>
    </div>
  </div>
</div>

<!-- ============================================ -->
<!-- NEW: WHERE THIS GOES -->
<!-- ============================================ -->
<div class="da-section-label">WHERE THIS GOES</div>

<div class="da-future-wrap">
  <div class="da-future-box">
    <div class="da-future-text">
      Every plugin in the LMS suite shares state through a common memory bus. The amp's density tracker 
      broadcasts harmonic content. The compressor reads it and sets gain reduction before the peak arrives. 
      The reverb reads it and shortens its tail when the mix gets dense. The limiter reads every track's 
      density simultaneously and knows the master bus sum before it clips.
    </div>
    <div class="da-future-text">
      Every legendary compressor — the LA-2A, 1176, SSL G-Bus, Fairchild 670 — gets its character from 
      transformer saturation responding to harmonic content. That's not a sidechain filter. That's 
      density-aware processing through physics. The density tracker already measures exactly what those 
      transformers respond to. Different parameters = different transformer = different compressor character. 
      <strong style="color:var(--amber)">The character was always in the shared state.</strong>
    </div>
    <div class="da-future-text">
      The more plugins that join the bus, the smarter the whole system gets. Not through complexity. 
      Through awareness. Each plugin is a neuron. Each gmem read is a synapse. 
      The architecture scales because the mechanism is cheap — envelope followers and ratios, 
      nearly free — and the intelligence emerges from the connections, not the processing.
    </div>

    <div class="da-future-stats">
      <div class="da-future-stat">
        <div class="da-future-stat-number" style="color:var(--amber)">~10</div>
        <div class="da-future-stat-label">ops per sample for density tracking</div>
      </div>
      <div class="da-future-stat">
        <div class="da-future-stat-number" style="color:var(--da-green)">0</div>
        <div class="da-future-stat-label">latency — measurement IS the process</div>
      </div>
      <div class="da-future-stat">
        <div class="da-future-stat-number" style="color:var(--da-purple)">∞</div>
        <div class="da-future-stat-label">connections — every plugin reads every other</div>
      </div>
      <div class="da-future-stat">
        <div class="da-future-stat-number" style="color:var(--da-red)">0</div>
        <div class="da-future-stat-label">artifacts — because we never make any</div>
      </div>
    </div>
  </div>
</div>

<!-- ============================================ -->
<!-- EXISTING: FINALE -->
<!-- ============================================ -->
<section class="finale">
  <h2 class="fade-in">THEY ARE TRYING TO<br>STEAL YOUR COMPUTER</h2>
  <p class="manifesto fade-in">
    The algorithms in our favorite software are decades old.
    A mathematical model is a truth about the world, not a copyrightable product.
    Our digital products are all Turing machines replicating our favorite physical machines, with math.
    You do not have to stay a slave to subscription software.
    Install Linux. Build your own tools. Believe in yourself.
  </p>
  <div class="install-label fade-in">INSTALL THE LMS SUITE</div>
  <div class="url fade-in">
    https://raw.githubusercontent.com/LMSBAND/LMS/master/index.xml
  </div>
</section>

<!-- ============================================ -->
<!-- DENSITY-AMP INTERACTIVE DEMO JAVASCRIPT -->
<!-- ============================================ -->
<script>
// === STATE ===
let daMode = 'lms';
let daIsStrumming = false;
let daPickY = 0.5;
let daPickIntensity = 0;
let daPickDecay = 0;
let daPickRaw = 0;
let daFrame = 0;

// Density state
let daDensity = 1.0;
let daMillerFreq = 8000;
let daMillerQ = 0.6;
let daGridCond = 0.35;
let daDriveBoost = 1.0;
let daBplus = 100;
let daSignalOut = 0;
let daBandEnergy = [0, 0, 0, 0];
let daTubeGlow = [0.15, 0.15, 0.15, 0.15];

// Matrix
const DA_COLS = 16, DA_ROWS = 8;
let daMatrixCells = [];
let daMatrixData = [];

// === INIT DOM ===
function daInitTubes() {
  const labels = ['INPUT', 'V1', 'V2', 'POWER'];
  const row = document.getElementById('da-tubes-row');
  row.innerHTML = '';
  labels.forEach((lbl, i) => {
    const wrap = document.createElement('div');
    wrap.className = 'da-tube-wrap';
    wrap.innerHTML = `
      <div class="da-tube" id="da-tube-${i}">
        <div class="da-tube-filament" id="da-tube-fil-${i}"></div>
        <div class="da-tube-plate" id="da-tube-plate-${i}"></div>
        <div class="da-tube-pins"><div class="da-tube-pin"></div><div class="da-tube-pin"></div><div class="da-tube-pin"></div></div>
      </div>
      <div class="da-tube-label" id="da-tube-lbl-${i}">${lbl}</div>`;
    row.appendChild(wrap);
  });
}

function daInitMatrix() {
  const grid = document.getElementById('da-matrix-grid');
  const labels = document.getElementById('da-band-labels');
  grid.innerHTML = '';
  labels.innerHTML = '';
  daMatrixCells = [];
  daMatrixData = [];

  const bandNames = ['SUB/LOW', 'MID', 'HIGH', 'AIR'];

  for (let r = 0; r < DA_ROWS; r++) {
    for (let c = 0; c < DA_COLS; c++) {
      const cell = document.createElement('div');
      cell.className = 'da-matrix-cell';
      grid.appendChild(cell);
      daMatrixCells.push(cell);
      daMatrixData.push({ value: 0, target: 0, band: r < 2 ? 0 : r < 4 ? 1 : r < 6 ? 2 : 3 });
    }
  }

  bandNames.forEach((name, i) => {
    const lbl = document.createElement('div');
    lbl.className = 'da-band-label';
    lbl.id = `da-blbl-${i}`;
    lbl.textContent = name;
    labels.appendChild(lbl);
  });
}

function daInitMeters() {
  const row = document.getElementById('da-meters-row');
  const meters = [
    { id: 'miller-freq', label: 'MILLER LP', unit: ' Hz' },
    { id: 'miller-q', label: 'MILLER Q', unit: '' },
    { id: 'grid-cond', label: 'GRID COND', unit: '' },
    { id: 'drive', label: 'DRIVE', unit: '\u00d7' },
    { id: 'bplus', label: 'B+ RAIL', unit: '%' },
  ];
  row.innerHTML = '';
  meters.forEach(m => {
    const div = document.createElement('div');
    div.className = 'da-meter';
    div.innerHTML = `
      <div class="da-meter-label">${m.label}</div>
      <div class="da-meter-bar"><div class="da-meter-fill" id="da-mf-${m.id}"></div></div>
      <div class="da-meter-value" id="da-mv-${m.id}"></div>`;
    row.appendChild(div);
  });
}

// === STRUM INPUT ===
const daStrumArea = document.getElementById('da-strum-area');

function daStrumStart(clientY) {
  daIsStrumming = true;
  daStrumArea.classList.add('da-active');
  const rect = daStrumArea.getBoundingClientRect();
  daPickY = Math.max(0, Math.min(1, (clientY - rect.top) / rect.height));
  const intensity = 0.2 + daPickY * 0.8;
  daPickRaw = intensity;
  daPickDecay = intensity;
}

function daStrumMove(clientY) {
  if (!daIsStrumming) return;
  const rect = daStrumArea.getBoundingClientRect();
  daPickY = Math.max(0, Math.min(1, (clientY - rect.top) / rect.height));
  const intensity = 0.2 + daPickY * 0.8;
  daPickRaw = Math.max(daPickRaw, intensity * 0.9);
  daPickDecay = Math.max(daPickDecay, intensity);
}

function daStrumEnd() {
  daIsStrumming = false;
  daStrumArea.classList.remove('da-active');
}

daStrumArea.addEventListener('mousedown', e => daStrumStart(e.clientY));
daStrumArea.addEventListener('mousemove', e => daStrumMove(e.clientY));
daStrumArea.addEventListener('mouseup', daStrumEnd);
daStrumArea.addEventListener('mouseleave', daStrumEnd);
daStrumArea.addEventListener('touchstart', e => { e.preventDefault(); daStrumStart(e.touches[0].clientY); }, { passive: false });
daStrumArea.addEventListener('touchmove', e => { e.preventDefault(); daStrumMove(e.touches[0].clientY); }, { passive: false });
daStrumArea.addEventListener('touchend', daStrumEnd);

// === MODE SWITCH ===
function daSetMode(m) {
  daMode = m;
  document.getElementById('da-btn-lms').className = m === 'lms' ? 'da-mode-btn da-active-lms' : 'da-mode-btn';
  document.getElementById('da-btn-trad').className = m === 'traditional' ? 'da-mode-btn da-active-trad' : 'da-mode-btn';
  document.getElementById('da-matrix-wrap').className = m === 'lms' ? 'da-matrix-wrap da-lms-mode' : 'da-matrix-wrap';
  document.getElementById('da-miller-box').className = m === 'lms' ? 'da-miller-box' : 'da-miller-box da-trad';
  document.getElementById('da-output-label').textContent = m === 'lms' ? 'Shaped by density' : 'Linear gain only';

  document.querySelectorAll('.da-strum-string').forEach(s => {
    s.className = m === 'lms' ? 'da-strum-string' : 'da-strum-string da-trad';
  });

  if (m === 'lms') {
    document.getElementById('da-miller-title').textContent = "WHAT YOU'RE SEEING";
    document.getElementById('da-miller-title').style.color = 'var(--amber)';
    document.getElementById('da-miller-text').innerHTML = 'Drag harder on the strings. Watch the <span class="da-highlight">Miller LP</span> frequency drop \u2014 that\'s the virtual tube\'s internal capacitance increasing as you push it harder, rolling off highs between stages. The matrix shows the 4-band density tracker reading the harmonic content in real time. Each tube glows differently because each one responds to what the others are doing. The <span class="da-highlight-red">grid conduction</span> threshold drops when hi-band energy rises, squashing fizz. The <span class="da-highlight-blue">B+ rail</span> sags under load. Everything breathes together.';
    document.getElementById('da-miller-callout').className = 'da-miller-callout';
    document.getElementById('da-miller-callout').textContent = 'The Miller LP follows the density \u2014 it doesn\'t sweep on its own. The signal tells the filter where to be.';
  } else {
    document.getElementById('da-miller-title').textContent = "WHAT'S NOT HAPPENING";
    document.getElementById('da-miller-title').style.color = '#555';
    document.getElementById('da-miller-text').innerHTML = 'Same input, same stages. But the Miller LP is stuck at 8000 Hz. The tubes all glow the same dim gray because they don\'t know what frequency they\'re clipping. The matrix is dead because nobody\'s tracking anything. No density feedback. No dynamic coupling. No shared power supply response. Each stage processes in a vacuum. <span style="color:#554433;display:block;margin-top:6px;font-style:italic">This is what $150\u2013$400 amp sims do.</span>';
    document.getElementById('da-miller-callout').className = 'da-miller-callout da-dead';
    document.getElementById('da-miller-callout').textContent = 'Fixed at 8000 Hz. Doesn\'t care if you\'re whispering or shredding.';
  }
}

// === ANIMATION ===
const daBandColors = [
  [30, 80, 220],
  [220, 160, 30],
  [220, 60, 30],
  [180, 40, 220],
];

const daTubeColorsLMS = [
  [100, 220, 140],
  [255, 180, 50],
  [255, 100, 50],
  [180, 130, 255],
];

function daAnimate() {
  daFrame++;
  const t = daFrame * 0.025;

  if (!daIsStrumming) {
    daPickDecay *= 0.985;
    daPickRaw *= 0.97;
  }
  const input = daPickDecay;

  // Pick indicator
  const pick = document.getElementById('da-pick-indicator');
  const col = daMode === 'lms' ? `rgba(245,158,11,${0.3 + input * 0.7})` : `rgba(150,150,150,${0.2 + input * 0.5})`;
  pick.style.background = col;
  pick.style.top = (daPickY * 100) + '%';
  pick.style.transform = 'translateY(-50%)';
  if (daIsStrumming && daMode === 'lms') {
    pick.style.boxShadow = `0 0 12px rgba(245,158,11,${input * 0.5})`;
  } else {
    pick.style.boxShadow = 'none';
  }

  // Simulate bands
  const harmonicRichness = Math.min(1, input * 1.5);
  const lo = input * 0.8 * (0.7 + Math.sin(t * 1.1) * 0.3);
  const mid = input * harmonicRichness * 0.6 * (0.6 + Math.sin(t * 1.7 + 1) * 0.4);
  const hi = input * harmonicRichness * harmonicRichness * 0.5 * (0.5 + Math.sin(t * 2.3 + 2) * 0.5);
  const air = input * harmonicRichness * harmonicRichness * 0.3 * (0.4 + Math.sin(t * 3.1 + 3) * 0.6);
  daBandEnergy = [lo, mid, hi, air];
  const totalE = lo + mid + hi + air;
  const rawDensity = lo > 0.01 ? Math.min(2.5, Math.max(1.0, totalE / lo)) : 1.0;

  if (daMode === 'lms') {
    daDensity += (rawDensity - daDensity) * 0.08;
    daMillerFreq = Math.max(5000, Math.min(8500, 8500 - (daDensity - 1.0) * 2300));
    daMillerQ = Math.min(0.95, 0.6 + (hi / Math.max(0.01, totalE)) * 0.35);
    daGridCond = Math.max(0.15, 0.35 - (hi / Math.max(0.01, totalE)) * 0.15);
    daDriveBoost = 1.0 + (mid / Math.max(0.01, totalE)) * 0.4;
    daBplus = Math.max(75, Math.min(100, 100 - totalE * 12));
    daSignalOut = Math.min(1, input * (1.5 - daDensity * 0.3));
    daTubeGlow = [
      0.1 + daPickRaw * 0.9,
      0.08 + daDensity * 0.35 + hi * 0.4,
      0.05 + daDensity * 0.3 + mid * 0.5,
      0.1 + totalE * 0.2 + lo * 0.4,
    ];
  } else {
    daDensity = 1.0;
    daMillerFreq = 8000;
    daMillerQ = 0.6;
    daGridCond = 0.35;
    daDriveBoost = 1.0;
    daBplus = 100;
    daSignalOut = Math.min(1, input * 1.2);
    const fg = 0.1 + input * 0.3;
    daTubeGlow = [fg, fg, fg, fg];
  }

  // Update tubes
  for (let i = 0; i < 4; i++) {
    const g = daTubeGlow[i];
    const [r, gn, b] = daMode === 'lms' ? daTubeColorsLMS[i] : [120, 120, 120];
    const tube = document.getElementById(`da-tube-${i}`);
    const fil = document.getElementById(`da-tube-fil-${i}`);
    const plate = document.getElementById(`da-tube-plate-${i}`);
    const lbl = document.getElementById(`da-tube-lbl-${i}`);

    tube.style.background = `radial-gradient(ellipse at 50% 60%, rgba(${r},${gn},${b},${0.05 + g * 0.5}), transparent 70%), linear-gradient(180deg, #0a0a12, #050508)`;
    if (daMode === 'lms') {
      tube.style.boxShadow = `0 0 ${4 + g * 28}px rgba(${r},${gn},${b},${g * 0.7}), 0 0 ${2 + g * 14}px rgba(${r},${gn},${b},${g * 0.4})`;
    } else {
      tube.style.boxShadow = `0 0 ${g * 4}px rgba(100,100,100,${g * 0.3})`;
    }
    tube.className = daMode === 'lms' ? 'da-tube' : 'da-tube da-trad';
    fil.style.background = `radial-gradient(circle, rgba(${Math.min(255, r + 80)},${Math.min(255, gn + 40)},${Math.min(255, b + 20)},${0.15 + g * 0.7}), transparent 70%)`;
    plate.style.border = `1px solid rgba(255,255,255,${0.03 + g * 0.08})`;
    lbl.style.color = daMode === 'lms' ? `rgba(${r},${gn},${b},${0.4 + g * 0.6})` : '#444';
  }

  // Update matrix
  for (let i = 0; i < daMatrixData.length; i++) {
    const d = daMatrixData[i];
    if (daMode === 'lms') {
      const r = Math.floor(i / DA_COLS), c = i % DA_COLS;
      const bandVal = daBandEnergy[d.band];
      const cellPhase = Math.sin(t * ((r * DA_COLS + c) * 0.37 + r * 1.1) * 0.1 + c * 0.5 + r * 0.8);
      d.target = Math.max(0, Math.min(1, cellPhase * bandVal * 1.3));
    } else {
      d.target = input > 0.05 ? 0.06 : 0;
    }
    d.value += (d.target - d.value) * 0.15;

    const [cr, cg, cb] = daMode === 'lms' ? daBandColors[d.band] : [100, 100, 100];
    const a = Math.max(0.03, d.value * 0.9);
    daMatrixCells[i].style.background = `rgba(${cr},${cg},${cb},${a})`;
    if (daMode === 'lms' && d.value > 0.3) {
      daMatrixCells[i].style.boxShadow = `0 0 ${d.value * 5}px rgba(${cr},${cg},${cb},${d.value * 0.4})`;
    } else {
      daMatrixCells[i].style.boxShadow = 'none';
    }
  }

  // Band labels color
  for (let i = 0; i < 4; i++) {
    const lbl = document.getElementById(`da-blbl-${i}`);
    if (daMode === 'lms') {
      const [r, g, b] = daBandColors[i];
      lbl.style.color = `rgba(${r},${g},${b},0.7)`;
    } else {
      lbl.style.color = '#333';
    }
  }

  // Meters
  const isLMS = daMode === 'lms';
  const mColor = isLMS ? 'var(--amber)' : '#444';

  daSetMeter('miller-freq', daMillerFreq, 8500, Math.round(daMillerFreq), ' Hz', mColor, daMillerFreq < 6000);
  daSetMeter('miller-q', daMillerQ, 1, daMillerQ.toFixed(2), '', mColor, false);
  daSetMeter('grid-cond', daGridCond, 0.5, daGridCond.toFixed(2), '', isLMS ? 'var(--da-red)' : '#444', daGridCond < 0.2);
  daSetMeter('drive', daDriveBoost, 1.5, daDriveBoost.toFixed(2), '\u00d7', isLMS ? 'var(--da-green)' : '#444', false);
  daSetMeter('bplus', daBplus, 100, Math.round(daBplus), '%', isLMS ? 'var(--da-purple)' : '#444', daBplus < 85);

  // Output
  const outFill = document.getElementById('da-output-fill');
  const outVal = document.getElementById('da-output-value');
  outFill.style.height = (daSignalOut * 100) + '%';
  if (daMode === 'lms') {
    outFill.style.background = `linear-gradient(180deg, ${daSignalOut > 0.8 ? '#ef4444' : daSignalOut > 0.5 ? '#f59e0b' : '#22c55e'}, transparent)`;
    outVal.style.color = '#ccc';
  } else {
    outFill.style.background = `linear-gradient(180deg, ${daSignalOut > 0.8 ? '#888' : '#555'}, #33333322)`;
    outVal.style.color = '#666';
  }
  outVal.textContent = Math.round(daSignalOut * 100);

  requestAnimationFrame(daAnimate);
}

function daSetMeter(id, value, max, display, unit, color, warning) {
  const fill = document.getElementById(`da-mf-${id}`);
  const val = document.getElementById(`da-mv-${id}`);
  const pct = Math.min(100, (value / max) * 100);
  fill.style.width = pct + '%';
  fill.style.background = daMode === 'lms' ? (warning ? `linear-gradient(90deg, ${color}, var(--da-red))` : color) : '#333';
  val.textContent = display + unit;
  val.style.color = daMode === 'lms' ? color : '#444';
}

// === BOOT ===
daInitTubes();
daInitMatrix();
daInitMeters();
daSetMode('lms');
requestAnimationFrame(daAnimate);
</script>

</body>
</html>
